<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Yakub Rabiutheen">
<meta name="dcterms.date" content="2022-05-21">

<title>Final Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Final Project">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="true"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/Social_Networks_Spring_2023/" rel="" target="">
 <span class="menu-text">Spring 2023 Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://dacss.github.io/Social_Networks_Spring_2023/" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Final Project Proposal</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Final Project</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Yakub Rabiutheen </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 21, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<ol type="1">
<li>Identify an existing data set or collect your own data. Provide a thorough description of the network data and the protocols used to collect and code it. The information provided should be sufficient to allow someone to recreate your network data from the original source.</li>
</ol>
<p>First we will invoke the ipumsr library to read in the data. The read_ipums_micro() function takes two arguments: the DDI file and the data file. The DDI file is an XML file that contains metadata about the data. The data file is a gzipped file that contains the data itself. Both files are located in the posts/ directory.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">"posts/cps_00003.xml"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in custom_check_file_exists(ddi_file): Could not find file, check the path in argument 'file':
  posts/cps_00003.xml</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>cps_data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi, <span class="at">data_file =</span> <span class="st">"cps_00003.dat.gz"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in check_if_lower_vars_ignored(ddi, lower_vars): object 'ddi' not found</code></pre>
</div>
</div>
<p>##Scraping IPUMS to get Industry Codes</p>
<p>Now I will scrape the IPUMS website to also get the Codes for each Industry for my IND column.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>library(rvest)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>library(dplyr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu"># Base URL</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>base_url &lt;- "https://cps.ipums.org"</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu"># Page URL</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>page_url &lt;- "https://cps.ipums.org/cps-action/variables/IND#codes_section"</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu"># Read the HTML of the base page</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>main_page &lt;- read_html(page_url)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu"># Find the links for different years</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>links &lt;- main_page %&gt;%</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  html_nodes("a<span class="co">[</span><span class="ot">href*='codes'</span><span class="co">]</span>") %&gt;%</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  html_attr("href")</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="fu"># Correct the links (remove the 'https://cps.ipums.org' if it exists)</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>links &lt;- gsub("https://cps.ipums.org", "", links)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># Create the full URLs</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>urls &lt;- paste0(base_url, links)</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu"># Initialize a list to hold the scraped data</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>data_list &lt;- list()</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="fu"># Loop through the URLs</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>for (url in urls) {</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  # Read the HTML of the page</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  page &lt;- read_html(url)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  # Scrape the codes and descriptions</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  dt &lt;- page %&gt;%</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    html_nodes("dt") %&gt;%</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    html_text()</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  dd &lt;- page %&gt;%</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    html_nodes("dd") %&gt;%</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    html_text()</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  # Combine the codes and descriptions into a data frame and add it to the list</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>  data_list[<span class="co">[</span><span class="ot">url</span><span class="co">]</span>] &lt;- data.frame(Code = dt, Description = dd, stringsAsFactors = FALSE)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a><span class="fu"># Combine all the data frames into a single data frame</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>industry_codes &lt;- bind_rows(data_list)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="fu"># View the data</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>print(industry_codes)</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>##Save Occupational Codes as CSV</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>write.csv(industry_codes, file = "industry_codes.csv")</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now let’s read in Occupational Codes</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>industry_codes<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"industry_codes.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in file(file, "rt"): cannot open file 'industry_codes.csv': No such
file or directory</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error in file(file, "rt"): cannot open the connection</code></pre>
</div>
</div>
<p>Adding Occupational Codes to IND Column</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_1_Description <span class="ot">&lt;-</span> industry_codes<span class="sc">$</span>Description[<span class="fu">match</span>(cps_data<span class="sc">$</span>IND_1, industry_codes<span class="sc">$</span>Code)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'industry_codes' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_1 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cps_data$IND_1 &lt;- NULL: object 'cps_data' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace numerical codes with descriptions in IND_2 column</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_2_Description <span class="ot">&lt;-</span> industry_codes<span class="sc">$</span>Description[<span class="fu">match</span>(cps_data<span class="sc">$</span>IND_2, industry_codes<span class="sc">$</span>Code)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'industry_codes' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cps_data$IND_2 &lt;- NULL: object 'cps_data' not found</code></pre>
</div>
</div>
<p>Adding Race Labels to the Race Column</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"100"</span>, <span class="st">"200"</span>, <span class="st">"300"</span>, <span class="st">"650"</span>, <span class="st">"651"</span>, <span class="st">"652"</span>, <span class="st">"700"</span>, <span class="st">"801"</span>, <span class="st">"802"</span>, <span class="st">"803"</span>, <span class="st">"804"</span>, <span class="st">"805"</span>, <span class="st">"806"</span>, <span class="st">"807"</span>, <span class="st">"808"</span>, <span class="st">"809"</span>, <span class="st">"810"</span>, <span class="st">"811"</span>, <span class="st">"812"</span>, <span class="st">"813"</span>, <span class="st">"814"</span>, <span class="st">"815"</span>, <span class="st">"816"</span>, <span class="st">"817"</span>, <span class="st">"818"</span>, <span class="st">"819"</span>, <span class="st">"820"</span>, <span class="st">"830"</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"White"</span>, <span class="st">"Black"</span>, <span class="st">"American Indian/Aleut/Eskimo"</span>, <span class="st">"Asian or Pacific Islander"</span>, <span class="st">"Asian only"</span>, <span class="st">"Hawaiian/Pacific Islander only"</span>, <span class="st">"Other (single) race, n.e.c."</span>, <span class="st">"White-Black"</span>, <span class="st">"White-American Indian"</span>, <span class="st">"White-Asian"</span>, <span class="st">"White-Hawaiian/Pacific Islander"</span>, <span class="st">"Black-American Indian"</span>, <span class="st">"Black-Asian"</span>, <span class="st">"Black-Hawaiian/Pacific Islander"</span>, <span class="st">"American Indian-Asian"</span>, <span class="st">"Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black-American Indian"</span>, <span class="st">"White-Black-Asian"</span>, <span class="st">"White-American Indian-Asian"</span>, <span class="st">"White-Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black-American Indian-Asian"</span>, <span class="st">"American Indian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black--Hawaiian/Pacific Islander"</span>, <span class="st">"White-American Indian-Hawaiian/Pacific Islander"</span>, <span class="st">"Black-American Indian-Asian"</span>, <span class="st">"White-American Indian-Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"Two or three races, unspecified"</span>, <span class="st">"Four or five races, unspecified"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert RACE_1 to a factor</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>RACE_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>RACE_1, <span class="at">levels =</span> levels, <span class="at">labels =</span> labels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in factor(cps_data$RACE_1, levels = levels, labels = labels): object 'cps_data' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "SEX_1" to a factor with labels</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>SEX_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>SEX_1, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in factor(cps_data$SEX_1, labels = c("Male", "Female")): object 'cps_data' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>SEX_1 <span class="ot">&lt;-</span> <span class="fu">as.character</span>(cps_data<span class="sc">$</span>SEX_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'cps_data' not found</code></pre>
</div>
</div>
<p>Adding Country labels to Country Column Please note that the Census definees Country different from Race. Also, that the Census has historically asked about Country of Origin in different ways. For example, in 1970, the Census asked about Country of Origin for the first time.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the labels for each country code</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>country_value <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">10500</span>, <span class="dv">11000</span>, <span class="dv">11500</span>, <span class="dv">12090</span>, <span class="dv">15000</span>, <span class="dv">16010</span>, <span class="dv">19900</span>, <span class="dv">20000</span>, <span class="dv">21010</span>, <span class="dv">21020</span>, <span class="dv">21030</span>, <span class="dv">21040</span>, <span class="dv">21050</span>, <span class="dv">21060</span>, <span class="dv">21070</span>, <span class="dv">21090</span>, <span class="dv">25000</span>, <span class="dv">26010</span>, <span class="dv">26020</span>, <span class="dv">26030</span>, <span class="dv">26043</span>, <span class="dv">26044</span>, <span class="dv">26054</span>, <span class="dv">26055</span>, <span class="dv">26060</span>, <span class="dv">26091</span>, <span class="dv">30005</span>, <span class="dv">30010</span>, <span class="dv">30015</span>, <span class="dv">30020</span>, <span class="dv">30025</span>, <span class="dv">30030</span>, <span class="dv">30040</span>, <span class="dv">30050</span>, <span class="dv">30060</span>, <span class="dv">30065</span>, <span class="dv">30090</span>, <span class="dv">40000</span>, <span class="dv">40100</span>, <span class="dv">40400</span>, <span class="dv">40500</span>, <span class="dv">41000</span>, <span class="dv">41100</span>, <span class="dv">41300</span>, <span class="dv">41400</span>, <span class="dv">41410</span>, <span class="dv">42000</span>, <span class="dv">42100</span>, <span class="dv">42500</span>, <span class="dv">42600</span>, <span class="dv">43300</span>, <span class="dv">43400</span>, <span class="dv">43600</span>, <span class="dv">43610</span>, <span class="dv">43800</span>, <span class="dv">45000</span>, <span class="dv">45200</span>, <span class="dv">45212</span>, <span class="dv">45213</span>, <span class="dv">45300</span>, <span class="dv">45400</span>, <span class="dv">45500</span>, <span class="dv">45540</span>, <span class="dv">45600</span>, <span class="dv">45700</span>, <span class="dv">46100</span>, <span class="dv">46200</span>, <span class="dv">46500</span>, <span class="dv">46530</span>, <span class="dv">46590</span>, <span class="dv">49900</span>, <span class="dv">50000</span>, <span class="dv">50010</span>, <span class="dv">50040</span>, <span class="dv">50100</span>, <span class="dv">50200</span>, <span class="dv">50220</span>, <span class="dv">51100</span>, <span class="dv">51200</span>, <span class="dv">51300</span>, <span class="dv">51400</span>, <span class="dv">51500</span>, <span class="dv">51600</span>, <span class="dv">51700</span>, <span class="dv">51800</span>, <span class="dv">52000</span>, <span class="dv">52100</span>, <span class="dv">52110</span>, <span class="dv">52130</span>, <span class="dv">52140</span>, <span class="dv">52200</span>, <span class="dv">53200</span>, <span class="dv">53400</span>, <span class="dv">53420</span>, <span class="dv">53500</span>, <span class="dv">53700</span>, <span class="dv">54000</span>, <span class="dv">54100</span>, <span class="dv">54200</span>, <span class="dv">54700</span>, <span class="dv">59900</span>, <span class="dv">60010</span>, <span class="dv">60012</span>, <span class="dv">60014</span>, <span class="dv">60023</span>, <span class="dv">60031</span>, <span class="dv">60044</span>, <span class="dv">60045</span>, <span class="dv">60094</span>, <span class="dv">60099</span>, <span class="dv">70010</span>, <span class="dv">70020</span>, <span class="dv">71000</span>, <span class="dv">71021</span>, <span class="dv">96000</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>country_label <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"American Samoa"</span>, <span class="st">"Guam"</span>, <span class="st">"Puerto Rico"</span>, <span class="st">"U.S. Virgin Islands"</span>, <span class="st">"U.S. outlying areas, n.s."</span>, <span class="st">"Canada"</span>, <span class="st">"Bermuda"</span>, <span class="st">"North America, n.s."</span>, <span class="st">"Mexico"</span>, <span class="st">"Belize/British Honduras"</span>, <span class="st">"Costa Rica"</span>, <span class="st">"El Salvador"</span>, <span class="st">"Guatemala"</span>, <span class="st">"Honduras"</span>, <span class="st">"Nicaragua"</span>, <span class="st">"Panama"</span>, <span class="st">"Central America, n.s."</span>, <span class="st">"Cuba"</span>, <span class="st">"Dominican Republic"</span>, <span class="st">"Haiti"</span>, <span class="st">"Jamaica"</span>, <span class="st">"Bahamas"</span>, <span class="st">"Barbados"</span>, <span class="st">"Dominica"</span>, <span class="st">"Grenada"</span>, <span class="st">"Trinidad and Tobago"</span>, <span class="st">"Caribbean, n.s."</span>, <span class="st">"Argentina"</span>, <span class="st">"Bolivia"</span>, <span class="st">"Brazil"</span>, <span class="st">"Chile"</span>, <span class="st">"Colombia"</span>, <span class="st">"Ecuador"</span>, <span class="st">"Guyana/British Guiana"</span>, <span class="st">"Peru"</span>, <span class="st">"Uruguay"</span>, <span class="st">"Venezuela"</span>, <span class="st">"South America, n.s."</span>, <span class="st">"Denmark"</span>, <span class="st">"Finland"</span>, <span class="st">"Norway"</span>, <span class="st">"Sweden"</span>, <span class="st">"England"</span>, <span class="st">"Scotland"</span>, <span class="st">"United Kingdom, n.s."</span>, <span class="st">"Ireland"</span>, <span class="st">"Northern Ireland"</span>, <span class="st">"Belgium"</span>, <span class="st">"France"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Switzerland"</span>, <span class="st">"Greece"</span>, <span class="st">"Italy"</span>, <span class="st">"Portugal"</span>, <span class="st">"Azores"</span>, <span class="st">"Spain"</span>, <span class="st">"Austria"</span>, <span class="st">"Czechoslavakia"</span>, <span class="st">"Slovakia"</span>, <span class="st">"Czech Republic"</span>, <span class="st">"Germany"</span>, <span class="st">"Hungary"</span>, <span class="st">"Poland"</span>, <span class="st">"Armenia"</span>, <span class="st">"Romania"</span>, <span class="st">"Yugoslavia"</span>, <span class="st">"Latvia"</span>, <span class="st">"Lithuania"</span>, <span class="st">"Other USSR/Russia"</span>, <span class="st">"Ukraine"</span>, <span class="st">"USSR, n.s."</span>, <span class="st">"Europe, n.s."</span>, <span class="st">"China"</span>, <span class="st">"Hong Kong"</span>, <span class="st">"Taiwan"</span>, <span class="st">"Japan"</span>, <span class="st">"Korea"</span>, <span class="st">"South Korea"</span>, <span class="st">"Cambodia"</span>, <span class="st">"Indonesia"</span>, <span class="st">"Laos"</span>, <span class="st">"Malaysia"</span>, <span class="st">"Philippines"</span>, <span class="st">"Singapore"</span>, <span class="st">"Thailand"</span>, <span class="st">"Vietnam"</span>, <span class="st">"Afghanistan"</span>, <span class="st">"India"</span>, <span class="st">"Bangladesh"</span>, <span class="st">"Burma"</span>, <span class="st">"Pakistan"</span>, <span class="st">"Iran"</span>, <span class="st">"Iraq"</span>, <span class="st">"Israel/Palestine"</span>, <span class="st">"Palestine"</span>, <span class="st">"Jordan"</span>, <span class="st">"Lebanon"</span>, <span class="st">"Saudi Arabia"</span>, <span class="st">"Syria"</span>, <span class="st">"Turkey"</span>, <span class="st">"Middle East, n.s."</span>, <span class="st">"Asia, n.e.c./n.s."</span>, <span class="st">"Northern Africa"</span>, <span class="st">"Egypt/United Arab Rep."</span>, <span class="st">"Morocco"</span>, <span class="st">"Ghana"</span>, <span class="st">"Nigeria"</span>, <span class="st">"Ethiopia"</span>, <span class="st">"Kenya"</span>, <span class="st">"South Africa (Union of)"</span>, <span class="st">"Africa, n.s./n.e.c."</span>, <span class="st">"Australia"</span>, <span class="st">"New Zealand"</span>, <span class="st">"Pacific Islands"</span>, <span class="st">"Fiji"</span>, <span class="st">"Other, n.e.c. and unknown"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>COUNTRY_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>COUNTRY_1, <span class="at">levels =</span> country_value, <span class="at">labels =</span> country_label)           </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in factor(cps_data$COUNTRY_1, levels = country_value, labels = country_label): object 'cps_data' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'igraph'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:ipumsr':

    %&lt;-%</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    decompose, spectrum</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:base':

    union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>filtered_cps_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(cps_data[, <span class="fu">c</span>(<span class="st">"COUNTRY_1"</span>, <span class="st">"IND_1_Description"</span>)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in na.omit(cps_data[, c("COUNTRY_1", "IND_1_Description")]): object 'cps_data' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>g_country <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(filtered_cps_data, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.data.frame(d): object 'filtered_cps_data' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Graph Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Graph Summary:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edge list for Industry and Race</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>edge_matrix_race <span class="ot">&lt;-</span> cps_data[, <span class="fu">c</span>(<span class="st">"IND_1_Description"</span>, <span class="st">"RACE_1"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'cps_data' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edge list for Industry and Sex</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>edge_matrix_sex <span class="ot">&lt;-</span> cps_data[, <span class="fu">c</span>(<span class="st">"IND_1_Description"</span>, <span class="st">"SEX_1"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'cps_data' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NAs from edge_matrix_race</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>edge_matrix_race <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(edge_matrix_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in na.omit(edge_matrix_race): object 'edge_matrix_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove NAs from edge_matrix_sex</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>edge_matrix_sex <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(edge_matrix_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in na.omit(edge_matrix_sex): object 'edge_matrix_sex' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>g_race <span class="ot">&lt;-</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(edge_matrix_race), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.matrix(edge_matrix_race): object 'edge_matrix_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>g_sex <span class="ot">&lt;-</span> <span class="fu">graph_from_edgelist</span>(<span class="fu">as.matrix</span>(edge_matrix_sex), <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.matrix(edge_matrix_sex): object 'edge_matrix_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co">#g_country &lt;- graph_from_edgelist(as.matrix(edge_matrix_country), directed = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>num_nodes_race <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>num_edges_race <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>num_nodes_sex <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>num_edges_sex <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>num_nodes_country <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>num_edges_country <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Diameter</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>diameter_race <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>diameter_sex <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>diameter_country <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Degree centrality</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>degree_centrality_race <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>degree_centrality_sex <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>degree_centrality_country <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Betweenness centrality</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_race <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_sex <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_country <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Eigenvector centrality</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_race <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_race)<span class="sc">$</span>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_sex <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_sex)<span class="sc">$</span>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_country <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_country)<span class="sc">$</span>vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Graph Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Graph Summary:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_race</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>g_race</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_country</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>g_country</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_sex</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>g_sex</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
</div>
<p>##Answers to Question 1.</p>
<p>a.Where is the data set from, and what is being measured? Was the original data in matrix, edgelist or affiliation network format?</p>
<p>The data that I will be using is Data from Current Population Survey provided by Integrated Public Use Microdata Series(IPUMS) which was created by University Of Minessota.</p>
<p>The Current Population Survey originally comes from the Bureau of Labor,and IPUMS is a data aggregator that harmonized the CPS Data creating consistent variables across years to facilitate longitudinal analysis.</p>
<p>b.Is this network a sample or does it represent the universe of cases? If a sample, is the sample adequate/random/suitable?</p>
<p>The Data is a sample collected by the Bureau of Labor Statistics. The sample is adequate and suitable because it is a random sample of the population.</p>
<p>Also, the CPS dataset is designed to answer questions regarding Labor Force Demographics.</p>
<ol start="3" type="a">
<li>What constitutes a vertex/node in these data? What is the level of analysis (person, organization, etc.)? How many nodes are in the data set?</li>
</ol>
<p>The level are analaysis are people. Each node represents a person responding to the survey. The edges represent a connection of industry to their self reported race, gender or country of origin in the Census.</p>
<p>In terms of the the numbers of nodes, it varies by each graph.</p>
<p>g_race Number of Nodes: 567 Number of Edges: 2058407 Diameter: 3 g_country Number of Nodes: 296 Number of Edges: 1548 Diameter: 7 g_sex Number of Nodes: 541 Number of Edges: 2058407 Diameter: 4</p>
<p>d.What constitutes a tie in these data? Is the tie weighted or unweighted? If weighted, what is the range of tie values? What is the tie measuring, and is the measure adequate?</p>
<p>The Tie that this Data is measuring is the tie between the Industry a Person is in and the Demographic variables that a person has such as Race, Coutnry of Origin and Gender.</p>
<ol start="5" type="a">
<li>Were any transformations used (e.g., thresholds, one-mode projection) to create final network data used in analysis?</li>
</ol>
<p>There were no transformations suhc as thresholds or one-mode projection used to create the final network data used in analysis.</p>
<p>##Answers to Question 2</p>
<ol start="2" type="1">
<li></li>
</ol>
<p>Provide additional descriptive statistics about your network data. The information provided should be sufficient to allow someone to understand the distinctive features of your network data. Please include a substantive discussion or interpretation of the meaning of each of these features – this is not merely a statistical report. In addition to basic information about network size and range of tie values (provided above), look at the following: number of components (if not fully connected) proportion of nodes in giant component and proportion of unconnected nodes/singletons (if any) (fully connected graphs or subgraphs only) Network diameter (the length of the longest geodesic in the network). Maybe distribution of network geodesics. graph density average node degree and degree distribution</p>
<ol type="a">
<li>number of components</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>components_sex <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>components_race <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>components_country <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of Components</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Components:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Number of Components:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, <span class="fu">length</span>(components_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_sex:", length(components_sex), "\n"): object 'components_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, <span class="fu">length</span>(components_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_race:", length(components_race), "\n"): object 'components_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, <span class="fu">length</span>(components_country), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_country:", length(components_country), "\n\n"): object 'components_country' not found</code></pre>
</div>
</div>
<p>b.(if not fully connected) proportion of nodes in giant component and proportion of unconnected nodes/singletons (if any)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>g_sex_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>g_race_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>g_country_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect communities</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>communities_sex <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_sex_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex_simple' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>communities_race <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_race_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race_simple' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>communities_country <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_country_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country_simple' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>sizes_sex <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in membership(communities): object 'communities_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>sizes_race <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in membership(communities): object 'communities_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>sizes_country <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in membership(communities): object 'communities_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_sex <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_sex) <span class="sc">/</span> <span class="fu">vcount</span>(g_sex_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'sizes_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_race <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_race) <span class="sc">/</span> <span class="fu">vcount</span>(g_race_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'sizes_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_country <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_country) <span class="sc">/</span> <span class="fu">vcount</span>(g_country_simple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'sizes_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Proportion of Nodes in Giant Component:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Proportion of Nodes in Giant Component:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, prop_giant_comp_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_sex:", prop_giant_comp_sex, "\n"): object 'prop_giant_comp_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, prop_giant_comp_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_race:", prop_giant_comp_race, "\n"): object 'prop_giant_comp_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, prop_giant_comp_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_country:", prop_giant_comp_country, "\n\n"): object 'prop_giant_comp_country' not found</code></pre>
</div>
</div>
<p>C.(fully connected graphs or subgraphs only) Network diameter (the length of the longest geodesic in the network). Maybe distribution of network geodesics.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="do">##Diameter</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
</div>
<p>D.graph density</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Network Density</span></span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a>density_sex <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>density_race <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>density_country <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Network Density:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Network Density:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, density_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_sex:", density_sex, "\n"): object 'density_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, density_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_race:", density_race, "\n"): object 'density_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, density_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_country:", density_country, "\n\n"): object 'density_country' not found</code></pre>
</div>
</div>
<p>Network Density: g_sex: 14.09192 g_race: 12.82808 g_country: 0.03545579</p>
<p>e.average node degree and degree distribution</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a>avg_degree_sex <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_sex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>avg_degree_race <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_race))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>avg_degree_country <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_country))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Average Node Degree:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Average Node Degree:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, avg_degree_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_sex:", avg_degree_sex, "\n"): object 'avg_degree_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, avg_degree_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_race:", avg_degree_race, "\n"): object 'avg_degree_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, avg_degree_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in cat("g_country:", avg_degree_country, "\n\n"): object 'avg_degree_country' not found</code></pre>
</div>
</div>
<p>Average Node Degree: g_sex: 7609.638 g_race: 7260.695 g_country: 10.45946</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Degree Distribution Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Degree Distribution Summary:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>g_sex:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_sex))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_sex' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">g_race:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
g_race:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_race))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">g_country:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
g_country:</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_country))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_country' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a>subset_vertices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">V</span>(g_race), <span class="at">size =</span> <span class="dv">20</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the labels of the selected races</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">V</span>(g_race)<span class="sc">$</span>RACE_1[subset_vertices]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subgraph containing only the subset of vertices and their incident edges</span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a>subgraph <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(g_race, subset_vertices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb217"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb217-1"><a href="#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the subgraph with vertex labels and edges</span></span>
<span id="cb217-2"><a href="#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(subgraph, <span class="at">vertex.label =</span> labels, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in induced_subgraph(graph, vids): Not a graph object</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a>white_edges <span class="ot">&lt;-</span> edge_matrix_race[edge_matrix_race<span class="sc">$</span>RACE_1 <span class="sc">==</span> <span class="st">"White"</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'edge_matrix_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a>industry_counts <span class="ot">&lt;-</span> <span class="fu">table</span>(white_edges<span class="sc">$</span>IND_1_Description)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in table(white_edges$IND_1_Description): object 'white_edges' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb223"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb223-1"><a href="#cb223-1" aria-hidden="true" tabindex="-1"></a>sorted_counts <span class="ot">&lt;-</span> <span class="fu">sort</span>(industry_counts, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in sort(industry_counts, decreasing = TRUE): object 'industry_counts' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a>top_10_counts <span class="ot">&lt;-</span> <span class="fu">head</span>(sorted_counts, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in head(sorted_counts, 10): object 'sorted_counts' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the top 10 industries with the highest counts</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_10_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in print(top_10_counts): object 'top_10_counts' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb229"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb229-1"><a href="#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the graph object from the white_edges</span></span>
<span id="cb229-2"><a href="#cb229-2" aria-hidden="true" tabindex="-1"></a>white_graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> white_edges, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.data.frame(d): object 'white_edges' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the degree centrality</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>Wwhite_degree_centrality <span class="ot">&lt;-</span> <span class="fu">degree</span>(white_graph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'white_graph' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exclude the "White" vertex from the top 10 vertices</span></span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a>top_10_indices <span class="ot">&lt;-</span> <span class="fu">order</span>(Wwhite_degree_centrality, <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="sc">-</span><span class="dv">1</span>][<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in order(Wwhite_degree_centrality, decreasing = TRUE): object 'Wwhite_degree_centrality' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb235"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb235-1"><a href="#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the names of the vertices corresponding to the top 10 indices (excluding "White")</span></span>
<span id="cb235-2"><a href="#cb235-2" aria-hidden="true" tabindex="-1"></a>top_10_vertices <span class="ot">&lt;-</span> <span class="fu">V</span>(white_graph)<span class="sc">$</span>name[top_10_indices]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'white_graph' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the top 10 vertices with the highest degree centrality (excluding "White")</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(top_10_vertices)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in print(top_10_vertices): object 'top_10_vertices' not found</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming g_race is the graph object representing the race network</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform community detection using the Louvain algorithm</span></span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a>community <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_race)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the membership of each vertex in the detected communities</span></span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a>membership <span class="ot">&lt;-</span> community<span class="sc">$</span>membership</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'community' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb243"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb243-1"><a href="#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the labels of the vertices</span></span>
<span id="cb243-2"><a href="#cb243-2" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">V</span>(g_race)<span class="sc">$</span>name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in "igraph" %in% class(graph): object 'g_race' not found</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a summary table with vertex label, index, and corresponding community/role assignment</span></span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Vertex =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(membership), <span class="at">Label =</span> labels, <span class="at">Community =</span> membership)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in as.data.frame.default(x[[i]], optional = TRUE): cannot coerce class '"function"' to a data.frame</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the summary table for g_race</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"g_race Community Summary:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "g_race Community Summary:"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb249"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb249-1"><a href="#cb249-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-error">
<pre><code>Error in print(summary_table): object 'summary_table' not found</code></pre>
</div>
</div>


<!-- -->


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/Social_Networks_Spring_2023" data-repo-id="R_kgDOI9d_OA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb251" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Final Project"</span></span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Yakub Rabiutheen"</span></span>
<span id="cb251-4"><a href="#cb251-4" aria-hidden="true" tabindex="-1"></a><span class="an">desription:</span><span class="co"> "Final Project"</span></span>
<span id="cb251-5"><a href="#cb251-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "05/22/2022"</span></span>
<span id="cb251-6"><a href="#cb251-6" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb251-7"><a href="#cb251-7" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb251-8"><a href="#cb251-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb251-9"><a href="#cb251-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb251-10"><a href="#cb251-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb251-11"><a href="#cb251-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb251-12"><a href="#cb251-12" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span></span>
<span id="cb251-13"><a href="#cb251-13" aria-hidden="true" tabindex="-1"></a><span class="co">- Final Project</span></span>
<span id="cb251-14"><a href="#cb251-14" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb251-15"><a href="#cb251-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-16"><a href="#cb251-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-17"><a href="#cb251-17" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Identify an existing data set or collect your own data. Provide a thorough description of the network data and the protocols used to collect and code it. The information provided should be sufficient to allow someone to recreate your network data from the original source. </span>
<span id="cb251-18"><a href="#cb251-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-19"><a href="#cb251-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-20"><a href="#cb251-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-21"><a href="#cb251-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-22"><a href="#cb251-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-23"><a href="#cb251-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-24"><a href="#cb251-24" aria-hidden="true" tabindex="-1"></a>First we will invoke the ipumsr library to read in the data. The read_ipums_micro() function takes two arguments: the DDI file and the data file. The DDI file is an XML file that contains metadata about the data. The data file is a gzipped file that contains the data itself. Both files are located in the posts/ directory.</span>
<span id="cb251-25"><a href="#cb251-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-26"><a href="#cb251-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-27"><a href="#cb251-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-28"><a href="#cb251-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-31"><a href="#cb251-31" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-32"><a href="#cb251-32" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ipumsr)</span>
<span id="cb251-33"><a href="#cb251-33" aria-hidden="true" tabindex="-1"></a>ddi <span class="ot">&lt;-</span> <span class="fu">read_ipums_ddi</span>(<span class="st">"posts/cps_00003.xml"</span>)</span>
<span id="cb251-34"><a href="#cb251-34" aria-hidden="true" tabindex="-1"></a>cps_data <span class="ot">&lt;-</span> <span class="fu">read_ipums_micro</span>(ddi, <span class="at">data_file =</span> <span class="st">"cps_00003.dat.gz"</span>)</span>
<span id="cb251-35"><a href="#cb251-35" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-36"><a href="#cb251-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-37"><a href="#cb251-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-38"><a href="#cb251-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-39"><a href="#cb251-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-40"><a href="#cb251-40" aria-hidden="true" tabindex="-1"></a>##Scraping IPUMS to get Industry Codes</span>
<span id="cb251-41"><a href="#cb251-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-42"><a href="#cb251-42" aria-hidden="true" tabindex="-1"></a>Now I will scrape the IPUMS website to also get the Codes for each Industry for my IND column. </span>
<span id="cb251-43"><a href="#cb251-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-46"><a href="#cb251-46" aria-hidden="true" tabindex="-1"></a><span class="in">```{markdown}</span></span>
<span id="cb251-47"><a href="#cb251-47" aria-hidden="true" tabindex="-1"></a>library(rvest)</span>
<span id="cb251-48"><a href="#cb251-48" aria-hidden="true" tabindex="-1"></a>library(dplyr)</span>
<span id="cb251-49"><a href="#cb251-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-50"><a href="#cb251-50" aria-hidden="true" tabindex="-1"></a><span class="fu"># Base URL</span></span>
<span id="cb251-51"><a href="#cb251-51" aria-hidden="true" tabindex="-1"></a>base_url &lt;- "https://cps.ipums.org"</span>
<span id="cb251-52"><a href="#cb251-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-53"><a href="#cb251-53" aria-hidden="true" tabindex="-1"></a><span class="fu"># Page URL</span></span>
<span id="cb251-54"><a href="#cb251-54" aria-hidden="true" tabindex="-1"></a>page_url &lt;- "https://cps.ipums.org/cps-action/variables/IND#codes_section"</span>
<span id="cb251-55"><a href="#cb251-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-56"><a href="#cb251-56" aria-hidden="true" tabindex="-1"></a><span class="fu"># Read the HTML of the base page</span></span>
<span id="cb251-57"><a href="#cb251-57" aria-hidden="true" tabindex="-1"></a>main_page &lt;- read_html(page_url)</span>
<span id="cb251-58"><a href="#cb251-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-59"><a href="#cb251-59" aria-hidden="true" tabindex="-1"></a><span class="fu"># Find the links for different years</span></span>
<span id="cb251-60"><a href="#cb251-60" aria-hidden="true" tabindex="-1"></a>links &lt;- main_page %&gt;%</span>
<span id="cb251-61"><a href="#cb251-61" aria-hidden="true" tabindex="-1"></a>  html_nodes("a<span class="co">[</span><span class="ot">href*='codes'</span><span class="co">]</span>") %&gt;%</span>
<span id="cb251-62"><a href="#cb251-62" aria-hidden="true" tabindex="-1"></a>  html_attr("href")</span>
<span id="cb251-63"><a href="#cb251-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-64"><a href="#cb251-64" aria-hidden="true" tabindex="-1"></a><span class="fu"># Correct the links (remove the 'https://cps.ipums.org' if it exists)</span></span>
<span id="cb251-65"><a href="#cb251-65" aria-hidden="true" tabindex="-1"></a>links &lt;- gsub("https://cps.ipums.org", "", links)</span>
<span id="cb251-66"><a href="#cb251-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-67"><a href="#cb251-67" aria-hidden="true" tabindex="-1"></a><span class="fu"># Create the full URLs</span></span>
<span id="cb251-68"><a href="#cb251-68" aria-hidden="true" tabindex="-1"></a>urls &lt;- paste0(base_url, links)</span>
<span id="cb251-69"><a href="#cb251-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-70"><a href="#cb251-70" aria-hidden="true" tabindex="-1"></a><span class="fu"># Initialize a list to hold the scraped data</span></span>
<span id="cb251-71"><a href="#cb251-71" aria-hidden="true" tabindex="-1"></a>data_list &lt;- list()</span>
<span id="cb251-72"><a href="#cb251-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-73"><a href="#cb251-73" aria-hidden="true" tabindex="-1"></a><span class="fu"># Loop through the URLs</span></span>
<span id="cb251-74"><a href="#cb251-74" aria-hidden="true" tabindex="-1"></a>for (url in urls) {</span>
<span id="cb251-75"><a href="#cb251-75" aria-hidden="true" tabindex="-1"></a>  # Read the HTML of the page</span>
<span id="cb251-76"><a href="#cb251-76" aria-hidden="true" tabindex="-1"></a>  page &lt;- read_html(url)</span>
<span id="cb251-77"><a href="#cb251-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb251-78"><a href="#cb251-78" aria-hidden="true" tabindex="-1"></a>  # Scrape the codes and descriptions</span>
<span id="cb251-79"><a href="#cb251-79" aria-hidden="true" tabindex="-1"></a>  dt &lt;- page %&gt;%</span>
<span id="cb251-80"><a href="#cb251-80" aria-hidden="true" tabindex="-1"></a>    html_nodes("dt") %&gt;%</span>
<span id="cb251-81"><a href="#cb251-81" aria-hidden="true" tabindex="-1"></a>    html_text()</span>
<span id="cb251-82"><a href="#cb251-82" aria-hidden="true" tabindex="-1"></a>  dd &lt;- page %&gt;%</span>
<span id="cb251-83"><a href="#cb251-83" aria-hidden="true" tabindex="-1"></a>    html_nodes("dd") %&gt;%</span>
<span id="cb251-84"><a href="#cb251-84" aria-hidden="true" tabindex="-1"></a>    html_text()</span>
<span id="cb251-85"><a href="#cb251-85" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb251-86"><a href="#cb251-86" aria-hidden="true" tabindex="-1"></a>  # Combine the codes and descriptions into a data frame and add it to the list</span>
<span id="cb251-87"><a href="#cb251-87" aria-hidden="true" tabindex="-1"></a>  data_list[<span class="co">[</span><span class="ot">url</span><span class="co">]</span>] &lt;- data.frame(Code = dt, Description = dd, stringsAsFactors = FALSE)</span>
<span id="cb251-88"><a href="#cb251-88" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb251-89"><a href="#cb251-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-90"><a href="#cb251-90" aria-hidden="true" tabindex="-1"></a><span class="fu"># Combine all the data frames into a single data frame</span></span>
<span id="cb251-91"><a href="#cb251-91" aria-hidden="true" tabindex="-1"></a>industry_codes &lt;- bind_rows(data_list)</span>
<span id="cb251-92"><a href="#cb251-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-93"><a href="#cb251-93" aria-hidden="true" tabindex="-1"></a><span class="fu"># View the data</span></span>
<span id="cb251-94"><a href="#cb251-94" aria-hidden="true" tabindex="-1"></a>print(industry_codes)</span>
<span id="cb251-95"><a href="#cb251-95" aria-hidden="true" tabindex="-1"></a>##Save Occupational Codes as CSV</span>
<span id="cb251-96"><a href="#cb251-96" aria-hidden="true" tabindex="-1"></a>write.csv(industry_codes, file = "industry_codes.csv")</span>
<span id="cb251-97"><a href="#cb251-97" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-98"><a href="#cb251-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-99"><a href="#cb251-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-100"><a href="#cb251-100" aria-hidden="true" tabindex="-1"></a>Now let's read in Occupational Codes</span>
<span id="cb251-101"><a href="#cb251-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-104"><a href="#cb251-104" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-105"><a href="#cb251-105" aria-hidden="true" tabindex="-1"></a>industry_codes<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"industry_codes.csv"</span>)</span>
<span id="cb251-106"><a href="#cb251-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-107"><a href="#cb251-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-108"><a href="#cb251-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-109"><a href="#cb251-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-110"><a href="#cb251-110" aria-hidden="true" tabindex="-1"></a>Adding Occupational Codes to IND Column</span>
<span id="cb251-113"><a href="#cb251-113" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-114"><a href="#cb251-114" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_1_Description <span class="ot">&lt;-</span> industry_codes<span class="sc">$</span>Description[<span class="fu">match</span>(cps_data<span class="sc">$</span>IND_1, industry_codes<span class="sc">$</span>Code)]</span>
<span id="cb251-115"><a href="#cb251-115" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_1 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb251-116"><a href="#cb251-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-117"><a href="#cb251-117" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace numerical codes with descriptions in IND_2 column</span></span>
<span id="cb251-118"><a href="#cb251-118" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_2_Description <span class="ot">&lt;-</span> industry_codes<span class="sc">$</span>Description[<span class="fu">match</span>(cps_data<span class="sc">$</span>IND_2, industry_codes<span class="sc">$</span>Code)]</span>
<span id="cb251-119"><a href="#cb251-119" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>IND_2 <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb251-120"><a href="#cb251-120" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-121"><a href="#cb251-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-122"><a href="#cb251-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-123"><a href="#cb251-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-124"><a href="#cb251-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-125"><a href="#cb251-125" aria-hidden="true" tabindex="-1"></a>Adding Race Labels to the Race Column</span>
<span id="cb251-128"><a href="#cb251-128" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-129"><a href="#cb251-129" aria-hidden="true" tabindex="-1"></a>levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"100"</span>, <span class="st">"200"</span>, <span class="st">"300"</span>, <span class="st">"650"</span>, <span class="st">"651"</span>, <span class="st">"652"</span>, <span class="st">"700"</span>, <span class="st">"801"</span>, <span class="st">"802"</span>, <span class="st">"803"</span>, <span class="st">"804"</span>, <span class="st">"805"</span>, <span class="st">"806"</span>, <span class="st">"807"</span>, <span class="st">"808"</span>, <span class="st">"809"</span>, <span class="st">"810"</span>, <span class="st">"811"</span>, <span class="st">"812"</span>, <span class="st">"813"</span>, <span class="st">"814"</span>, <span class="st">"815"</span>, <span class="st">"816"</span>, <span class="st">"817"</span>, <span class="st">"818"</span>, <span class="st">"819"</span>, <span class="st">"820"</span>, <span class="st">"830"</span>)</span>
<span id="cb251-130"><a href="#cb251-130" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"White"</span>, <span class="st">"Black"</span>, <span class="st">"American Indian/Aleut/Eskimo"</span>, <span class="st">"Asian or Pacific Islander"</span>, <span class="st">"Asian only"</span>, <span class="st">"Hawaiian/Pacific Islander only"</span>, <span class="st">"Other (single) race, n.e.c."</span>, <span class="st">"White-Black"</span>, <span class="st">"White-American Indian"</span>, <span class="st">"White-Asian"</span>, <span class="st">"White-Hawaiian/Pacific Islander"</span>, <span class="st">"Black-American Indian"</span>, <span class="st">"Black-Asian"</span>, <span class="st">"Black-Hawaiian/Pacific Islander"</span>, <span class="st">"American Indian-Asian"</span>, <span class="st">"Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black-American Indian"</span>, <span class="st">"White-Black-Asian"</span>, <span class="st">"White-American Indian-Asian"</span>, <span class="st">"White-Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black-American Indian-Asian"</span>, <span class="st">"American Indian-Hawaiian/Pacific Islander"</span>, <span class="st">"White-Black--Hawaiian/Pacific Islander"</span>, <span class="st">"White-American Indian-Hawaiian/Pacific Islander"</span>, <span class="st">"Black-American Indian-Asian"</span>, <span class="st">"White-American Indian-Asian-Hawaiian/Pacific Islander"</span>, <span class="st">"Two or three races, unspecified"</span>, <span class="st">"Four or five races, unspecified"</span>)</span>
<span id="cb251-131"><a href="#cb251-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-132"><a href="#cb251-132" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert RACE_1 to a factor</span></span>
<span id="cb251-133"><a href="#cb251-133" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>RACE_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>RACE_1, <span class="at">levels =</span> levels, <span class="at">labels =</span> labels)</span>
<span id="cb251-134"><a href="#cb251-134" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-135"><a href="#cb251-135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-136"><a href="#cb251-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-137"><a href="#cb251-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-138"><a href="#cb251-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-141"><a href="#cb251-141" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-142"><a href="#cb251-142" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "SEX_1" to a factor with labels</span></span>
<span id="cb251-143"><a href="#cb251-143" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>SEX_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>SEX_1, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>))</span>
<span id="cb251-144"><a href="#cb251-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-145"><a href="#cb251-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-146"><a href="#cb251-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-147"><a href="#cb251-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-148"><a href="#cb251-148" aria-hidden="true" tabindex="-1"></a>Adding Country labels to Country Column</span>
<span id="cb251-149"><a href="#cb251-149" aria-hidden="true" tabindex="-1"></a>Please note that the Census definees Country different from Race. Also, that the Census has historically asked about Country of Origin in different ways. For example, in 1970, the Census asked about Country of Origin for the first time. </span>
<span id="cb251-150"><a href="#cb251-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-153"><a href="#cb251-153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-154"><a href="#cb251-154" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the labels for each country code</span></span>
<span id="cb251-155"><a href="#cb251-155" aria-hidden="true" tabindex="-1"></a>country_value <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10000</span>, <span class="dv">10500</span>, <span class="dv">11000</span>, <span class="dv">11500</span>, <span class="dv">12090</span>, <span class="dv">15000</span>, <span class="dv">16010</span>, <span class="dv">19900</span>, <span class="dv">20000</span>, <span class="dv">21010</span>, <span class="dv">21020</span>, <span class="dv">21030</span>, <span class="dv">21040</span>, <span class="dv">21050</span>, <span class="dv">21060</span>, <span class="dv">21070</span>, <span class="dv">21090</span>, <span class="dv">25000</span>, <span class="dv">26010</span>, <span class="dv">26020</span>, <span class="dv">26030</span>, <span class="dv">26043</span>, <span class="dv">26044</span>, <span class="dv">26054</span>, <span class="dv">26055</span>, <span class="dv">26060</span>, <span class="dv">26091</span>, <span class="dv">30005</span>, <span class="dv">30010</span>, <span class="dv">30015</span>, <span class="dv">30020</span>, <span class="dv">30025</span>, <span class="dv">30030</span>, <span class="dv">30040</span>, <span class="dv">30050</span>, <span class="dv">30060</span>, <span class="dv">30065</span>, <span class="dv">30090</span>, <span class="dv">40000</span>, <span class="dv">40100</span>, <span class="dv">40400</span>, <span class="dv">40500</span>, <span class="dv">41000</span>, <span class="dv">41100</span>, <span class="dv">41300</span>, <span class="dv">41400</span>, <span class="dv">41410</span>, <span class="dv">42000</span>, <span class="dv">42100</span>, <span class="dv">42500</span>, <span class="dv">42600</span>, <span class="dv">43300</span>, <span class="dv">43400</span>, <span class="dv">43600</span>, <span class="dv">43610</span>, <span class="dv">43800</span>, <span class="dv">45000</span>, <span class="dv">45200</span>, <span class="dv">45212</span>, <span class="dv">45213</span>, <span class="dv">45300</span>, <span class="dv">45400</span>, <span class="dv">45500</span>, <span class="dv">45540</span>, <span class="dv">45600</span>, <span class="dv">45700</span>, <span class="dv">46100</span>, <span class="dv">46200</span>, <span class="dv">46500</span>, <span class="dv">46530</span>, <span class="dv">46590</span>, <span class="dv">49900</span>, <span class="dv">50000</span>, <span class="dv">50010</span>, <span class="dv">50040</span>, <span class="dv">50100</span>, <span class="dv">50200</span>, <span class="dv">50220</span>, <span class="dv">51100</span>, <span class="dv">51200</span>, <span class="dv">51300</span>, <span class="dv">51400</span>, <span class="dv">51500</span>, <span class="dv">51600</span>, <span class="dv">51700</span>, <span class="dv">51800</span>, <span class="dv">52000</span>, <span class="dv">52100</span>, <span class="dv">52110</span>, <span class="dv">52130</span>, <span class="dv">52140</span>, <span class="dv">52200</span>, <span class="dv">53200</span>, <span class="dv">53400</span>, <span class="dv">53420</span>, <span class="dv">53500</span>, <span class="dv">53700</span>, <span class="dv">54000</span>, <span class="dv">54100</span>, <span class="dv">54200</span>, <span class="dv">54700</span>, <span class="dv">59900</span>, <span class="dv">60010</span>, <span class="dv">60012</span>, <span class="dv">60014</span>, <span class="dv">60023</span>, <span class="dv">60031</span>, <span class="dv">60044</span>, <span class="dv">60045</span>, <span class="dv">60094</span>, <span class="dv">60099</span>, <span class="dv">70010</span>, <span class="dv">70020</span>, <span class="dv">71000</span>, <span class="dv">71021</span>, <span class="dv">96000</span>)</span>
<span id="cb251-156"><a href="#cb251-156" aria-hidden="true" tabindex="-1"></a>country_label <span class="ot">&lt;-</span> <span class="fu">c</span>( <span class="st">"American Samoa"</span>, <span class="st">"Guam"</span>, <span class="st">"Puerto Rico"</span>, <span class="st">"U.S. Virgin Islands"</span>, <span class="st">"U.S. outlying areas, n.s."</span>, <span class="st">"Canada"</span>, <span class="st">"Bermuda"</span>, <span class="st">"North America, n.s."</span>, <span class="st">"Mexico"</span>, <span class="st">"Belize/British Honduras"</span>, <span class="st">"Costa Rica"</span>, <span class="st">"El Salvador"</span>, <span class="st">"Guatemala"</span>, <span class="st">"Honduras"</span>, <span class="st">"Nicaragua"</span>, <span class="st">"Panama"</span>, <span class="st">"Central America, n.s."</span>, <span class="st">"Cuba"</span>, <span class="st">"Dominican Republic"</span>, <span class="st">"Haiti"</span>, <span class="st">"Jamaica"</span>, <span class="st">"Bahamas"</span>, <span class="st">"Barbados"</span>, <span class="st">"Dominica"</span>, <span class="st">"Grenada"</span>, <span class="st">"Trinidad and Tobago"</span>, <span class="st">"Caribbean, n.s."</span>, <span class="st">"Argentina"</span>, <span class="st">"Bolivia"</span>, <span class="st">"Brazil"</span>, <span class="st">"Chile"</span>, <span class="st">"Colombia"</span>, <span class="st">"Ecuador"</span>, <span class="st">"Guyana/British Guiana"</span>, <span class="st">"Peru"</span>, <span class="st">"Uruguay"</span>, <span class="st">"Venezuela"</span>, <span class="st">"South America, n.s."</span>, <span class="st">"Denmark"</span>, <span class="st">"Finland"</span>, <span class="st">"Norway"</span>, <span class="st">"Sweden"</span>, <span class="st">"England"</span>, <span class="st">"Scotland"</span>, <span class="st">"United Kingdom, n.s."</span>, <span class="st">"Ireland"</span>, <span class="st">"Northern Ireland"</span>, <span class="st">"Belgium"</span>, <span class="st">"France"</span>, <span class="st">"Netherlands"</span>, <span class="st">"Switzerland"</span>, <span class="st">"Greece"</span>, <span class="st">"Italy"</span>, <span class="st">"Portugal"</span>, <span class="st">"Azores"</span>, <span class="st">"Spain"</span>, <span class="st">"Austria"</span>, <span class="st">"Czechoslavakia"</span>, <span class="st">"Slovakia"</span>, <span class="st">"Czech Republic"</span>, <span class="st">"Germany"</span>, <span class="st">"Hungary"</span>, <span class="st">"Poland"</span>, <span class="st">"Armenia"</span>, <span class="st">"Romania"</span>, <span class="st">"Yugoslavia"</span>, <span class="st">"Latvia"</span>, <span class="st">"Lithuania"</span>, <span class="st">"Other USSR/Russia"</span>, <span class="st">"Ukraine"</span>, <span class="st">"USSR, n.s."</span>, <span class="st">"Europe, n.s."</span>, <span class="st">"China"</span>, <span class="st">"Hong Kong"</span>, <span class="st">"Taiwan"</span>, <span class="st">"Japan"</span>, <span class="st">"Korea"</span>, <span class="st">"South Korea"</span>, <span class="st">"Cambodia"</span>, <span class="st">"Indonesia"</span>, <span class="st">"Laos"</span>, <span class="st">"Malaysia"</span>, <span class="st">"Philippines"</span>, <span class="st">"Singapore"</span>, <span class="st">"Thailand"</span>, <span class="st">"Vietnam"</span>, <span class="st">"Afghanistan"</span>, <span class="st">"India"</span>, <span class="st">"Bangladesh"</span>, <span class="st">"Burma"</span>, <span class="st">"Pakistan"</span>, <span class="st">"Iran"</span>, <span class="st">"Iraq"</span>, <span class="st">"Israel/Palestine"</span>, <span class="st">"Palestine"</span>, <span class="st">"Jordan"</span>, <span class="st">"Lebanon"</span>, <span class="st">"Saudi Arabia"</span>, <span class="st">"Syria"</span>, <span class="st">"Turkey"</span>, <span class="st">"Middle East, n.s."</span>, <span class="st">"Asia, n.e.c./n.s."</span>, <span class="st">"Northern Africa"</span>, <span class="st">"Egypt/United Arab Rep."</span>, <span class="st">"Morocco"</span>, <span class="st">"Ghana"</span>, <span class="st">"Nigeria"</span>, <span class="st">"Ethiopia"</span>, <span class="st">"Kenya"</span>, <span class="st">"South Africa (Union of)"</span>, <span class="st">"Africa, n.s./n.e.c."</span>, <span class="st">"Australia"</span>, <span class="st">"New Zealand"</span>, <span class="st">"Pacific Islands"</span>, <span class="st">"Fiji"</span>, <span class="st">"Other, n.e.c. and unknown"</span>)</span>
<span id="cb251-157"><a href="#cb251-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-158"><a href="#cb251-158" aria-hidden="true" tabindex="-1"></a>cps_data<span class="sc">$</span>COUNTRY_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(cps_data<span class="sc">$</span>COUNTRY_1, <span class="at">levels =</span> country_value, <span class="at">labels =</span> country_label)           </span>
<span id="cb251-159"><a href="#cb251-159" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-160"><a href="#cb251-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-161"><a href="#cb251-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-162"><a href="#cb251-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-165"><a href="#cb251-165" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-166"><a href="#cb251-166" aria-hidden="true" tabindex="-1"></a>filtered_cps_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(cps_data[, <span class="fu">c</span>(<span class="st">"COUNTRY_1"</span>, <span class="st">"IND_1_Description"</span>)])</span>
<span id="cb251-167"><a href="#cb251-167" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-168"><a href="#cb251-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-169"><a href="#cb251-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-170"><a href="#cb251-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-171"><a href="#cb251-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-174"><a href="#cb251-174" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-175"><a href="#cb251-175" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb251-176"><a href="#cb251-176" aria-hidden="true" tabindex="-1"></a>edge_matrix_country <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb251-177"><a href="#cb251-177" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> filtered_cps_data<span class="sc">$</span>COUNTRY_1,  <span class="co"># Replace with your actual column name for countries</span></span>
<span id="cb251-178"><a href="#cb251-178" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> filtered_cps_data<span class="sc">$</span>IND_1_Description</span>
<span id="cb251-179"><a href="#cb251-179" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb251-180"><a href="#cb251-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-181"><a href="#cb251-181" aria-hidden="true" tabindex="-1"></a>g_country <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_matrix_country, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb251-182"><a href="#cb251-182" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-183"><a href="#cb251-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-184"><a href="#cb251-184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-187"><a href="#cb251-187" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-188"><a href="#cb251-188" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(g_country)</span>
<span id="cb251-189"><a href="#cb251-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-190"><a href="#cb251-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-193"><a href="#cb251-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-194"><a href="#cb251-194" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Graph Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-195"><a href="#cb251-195" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-196"><a href="#cb251-196" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-197"><a href="#cb251-197" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-198"><a href="#cb251-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-199"><a href="#cb251-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-200"><a href="#cb251-200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-201"><a href="#cb251-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-204"><a href="#cb251-204" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-205"><a href="#cb251-205" aria-hidden="true" tabindex="-1"></a>filtered_cps_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(cps_data[, <span class="fu">c</span>(<span class="st">"RACE_1"</span>, <span class="st">"IND_1_Description"</span>)])</span>
<span id="cb251-206"><a href="#cb251-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-207"><a href="#cb251-207" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the edge dataframe with proper column names</span></span>
<span id="cb251-208"><a href="#cb251-208" aria-hidden="true" tabindex="-1"></a>edge_matrix_race <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb251-209"><a href="#cb251-209" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> filtered_cps_data<span class="sc">$</span>RACE_1,</span>
<span id="cb251-210"><a href="#cb251-210" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> filtered_cps_data<span class="sc">$</span>IND_1_Description</span>
<span id="cb251-211"><a href="#cb251-211" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb251-212"><a href="#cb251-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-213"><a href="#cb251-213" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the edge dataframe to an igraph object</span></span>
<span id="cb251-214"><a href="#cb251-214" aria-hidden="true" tabindex="-1"></a>g_race <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_matrix_race, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb251-215"><a href="#cb251-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-216"><a href="#cb251-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-217"><a href="#cb251-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-218"><a href="#cb251-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-219"><a href="#cb251-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-220"><a href="#cb251-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-221"><a href="#cb251-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-224"><a href="#cb251-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-225"><a href="#cb251-225" aria-hidden="true" tabindex="-1"></a><span class="co"># Edge list for Industry and Sex</span></span>
<span id="cb251-226"><a href="#cb251-226" aria-hidden="true" tabindex="-1"></a>filtered_cps_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(cps_data[, <span class="fu">c</span>(<span class="st">"SEX_1"</span>, <span class="st">"IND_1_Description"</span>)])</span>
<span id="cb251-227"><a href="#cb251-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-228"><a href="#cb251-228" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the edge dataframe with proper column names</span></span>
<span id="cb251-229"><a href="#cb251-229" aria-hidden="true" tabindex="-1"></a>edge_matrix_sex <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb251-230"><a href="#cb251-230" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> filtered_cps_data<span class="sc">$</span>SEX_1,</span>
<span id="cb251-231"><a href="#cb251-231" aria-hidden="true" tabindex="-1"></a>  <span class="at">to =</span> filtered_cps_data<span class="sc">$</span>IND_1_Description</span>
<span id="cb251-232"><a href="#cb251-232" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb251-233"><a href="#cb251-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-234"><a href="#cb251-234" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the edge dataframe to an igraph object</span></span>
<span id="cb251-235"><a href="#cb251-235" aria-hidden="true" tabindex="-1"></a>g_sex <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(<span class="at">d =</span> edge_matrix_sex, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb251-236"><a href="#cb251-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-237"><a href="#cb251-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-238"><a href="#cb251-238" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-239"><a href="#cb251-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-240"><a href="#cb251-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-241"><a href="#cb251-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-242"><a href="#cb251-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-243"><a href="#cb251-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-246"><a href="#cb251-246" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-247"><a href="#cb251-247" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb251-248"><a href="#cb251-248" aria-hidden="true" tabindex="-1"></a>num_nodes_race <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_race)</span>
<span id="cb251-249"><a href="#cb251-249" aria-hidden="true" tabindex="-1"></a>num_edges_race <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_race)</span>
<span id="cb251-250"><a href="#cb251-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-251"><a href="#cb251-251" aria-hidden="true" tabindex="-1"></a>num_nodes_sex <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_sex)</span>
<span id="cb251-252"><a href="#cb251-252" aria-hidden="true" tabindex="-1"></a>num_edges_sex <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_sex)</span>
<span id="cb251-253"><a href="#cb251-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-254"><a href="#cb251-254" aria-hidden="true" tabindex="-1"></a>num_nodes_country <span class="ot">&lt;-</span> <span class="fu">vcount</span>(g_country)</span>
<span id="cb251-255"><a href="#cb251-255" aria-hidden="true" tabindex="-1"></a>num_edges_country <span class="ot">&lt;-</span> <span class="fu">ecount</span>(g_country)</span>
<span id="cb251-256"><a href="#cb251-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-257"><a href="#cb251-257" aria-hidden="true" tabindex="-1"></a><span class="co"># Diameter</span></span>
<span id="cb251-258"><a href="#cb251-258" aria-hidden="true" tabindex="-1"></a>diameter_race <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_race)</span>
<span id="cb251-259"><a href="#cb251-259" aria-hidden="true" tabindex="-1"></a>diameter_sex <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_sex)</span>
<span id="cb251-260"><a href="#cb251-260" aria-hidden="true" tabindex="-1"></a>diameter_country <span class="ot">&lt;-</span> <span class="fu">diameter</span>(g_country)</span>
<span id="cb251-261"><a href="#cb251-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-262"><a href="#cb251-262" aria-hidden="true" tabindex="-1"></a><span class="co"># Degree centrality</span></span>
<span id="cb251-263"><a href="#cb251-263" aria-hidden="true" tabindex="-1"></a>degree_centrality_race <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_race)</span>
<span id="cb251-264"><a href="#cb251-264" aria-hidden="true" tabindex="-1"></a>degree_centrality_sex <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_sex)</span>
<span id="cb251-265"><a href="#cb251-265" aria-hidden="true" tabindex="-1"></a>degree_centrality_country <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_country)</span>
<span id="cb251-266"><a href="#cb251-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-267"><a href="#cb251-267" aria-hidden="true" tabindex="-1"></a><span class="co"># Betweenness centrality</span></span>
<span id="cb251-268"><a href="#cb251-268" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_race <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_race)</span>
<span id="cb251-269"><a href="#cb251-269" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_sex <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_sex)</span>
<span id="cb251-270"><a href="#cb251-270" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_country <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_country)</span>
<span id="cb251-271"><a href="#cb251-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-272"><a href="#cb251-272" aria-hidden="true" tabindex="-1"></a><span class="co"># Eigenvector centrality</span></span>
<span id="cb251-273"><a href="#cb251-273" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_race <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_race)<span class="sc">$</span>vector</span>
<span id="cb251-274"><a href="#cb251-274" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_sex <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_sex)<span class="sc">$</span>vector</span>
<span id="cb251-275"><a href="#cb251-275" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_country <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_country)<span class="sc">$</span>vector</span>
<span id="cb251-276"><a href="#cb251-276" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-277"><a href="#cb251-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-278"><a href="#cb251-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-279"><a href="#cb251-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-280"><a href="#cb251-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-283"><a href="#cb251-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-284"><a href="#cb251-284" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Graph Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-285"><a href="#cb251-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-286"><a href="#cb251-286" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_race</span></span>
<span id="cb251-287"><a href="#cb251-287" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-288"><a href="#cb251-288" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-289"><a href="#cb251-289" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-290"><a href="#cb251-290" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-291"><a href="#cb251-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-292"><a href="#cb251-292" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_country</span></span>
<span id="cb251-293"><a href="#cb251-293" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-294"><a href="#cb251-294" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-295"><a href="#cb251-295" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-296"><a href="#cb251-296" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-297"><a href="#cb251-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-298"><a href="#cb251-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary for g_sex</span></span>
<span id="cb251-299"><a href="#cb251-299" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-300"><a href="#cb251-300" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Nodes:"</span>, <span class="fu">vcount</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-301"><a href="#cb251-301" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Edges:"</span>, <span class="fu">ecount</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-302"><a href="#cb251-302" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-303"><a href="#cb251-303" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-304"><a href="#cb251-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-305"><a href="#cb251-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-306"><a href="#cb251-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-307"><a href="#cb251-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-308"><a href="#cb251-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-309"><a href="#cb251-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-310"><a href="#cb251-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-311"><a href="#cb251-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-312"><a href="#cb251-312" aria-hidden="true" tabindex="-1"></a>##Answers to Question 1##</span>
<span id="cb251-313"><a href="#cb251-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-314"><a href="#cb251-314" aria-hidden="true" tabindex="-1"></a>a.Where is the data set from, and what is being measured? Was the original data in matrix, edgelist or affiliation network format?</span>
<span id="cb251-315"><a href="#cb251-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-316"><a href="#cb251-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-317"><a href="#cb251-317" aria-hidden="true" tabindex="-1"></a>The data that I will be using is Data from  Current Population Survey provided by Integrated Public Use Microdata Series(IPUMS) which was created by University Of Minessota.</span>
<span id="cb251-318"><a href="#cb251-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-319"><a href="#cb251-319" aria-hidden="true" tabindex="-1"></a>The Current Population Survey originally comes from the Bureau of Labor,and IPUMS is a data aggregator that harmonized the CPS  Data creating consistent variables across years to facilitate longitudinal analysis.</span>
<span id="cb251-320"><a href="#cb251-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-321"><a href="#cb251-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-322"><a href="#cb251-322" aria-hidden="true" tabindex="-1"></a>b.Is this network a sample or does it represent the universe of cases? If a sample, is the sample adequate/random/suitable?</span>
<span id="cb251-323"><a href="#cb251-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-324"><a href="#cb251-324" aria-hidden="true" tabindex="-1"></a>The Data is  a sample collected by the Bureau of Labor Statistics. The sample is adequate and suitable because it is a random sample of the population.</span>
<span id="cb251-325"><a href="#cb251-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-326"><a href="#cb251-326" aria-hidden="true" tabindex="-1"></a>Also, the CPS dataset is designed to answer questions regarding Labor Force Demographics.</span>
<span id="cb251-327"><a href="#cb251-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-328"><a href="#cb251-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-329"><a href="#cb251-329" aria-hidden="true" tabindex="-1"></a>c. What constitutes a vertex/node in these data? What is the level of analysis (person, organization, etc.)? How many nodes are in the data set?</span>
<span id="cb251-330"><a href="#cb251-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-331"><a href="#cb251-331" aria-hidden="true" tabindex="-1"></a>The level are analaysis are people. Each node represents a person responding to the survey. The edges represent a connection of industry to their self reported race, gender or country of origin in the Census.</span>
<span id="cb251-332"><a href="#cb251-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-333"><a href="#cb251-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-334"><a href="#cb251-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-335"><a href="#cb251-335" aria-hidden="true" tabindex="-1"></a>In terms of the the numbers of nodes, it varies  by each graph.</span>
<span id="cb251-336"><a href="#cb251-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-337"><a href="#cb251-337" aria-hidden="true" tabindex="-1"></a>g_race</span>
<span id="cb251-338"><a href="#cb251-338" aria-hidden="true" tabindex="-1"></a>Number of Nodes: 567 </span>
<span id="cb251-339"><a href="#cb251-339" aria-hidden="true" tabindex="-1"></a>Number of Edges: 2058407 </span>
<span id="cb251-340"><a href="#cb251-340" aria-hidden="true" tabindex="-1"></a>Diameter: 3 </span>
<span id="cb251-341"><a href="#cb251-341" aria-hidden="true" tabindex="-1"></a>g_country</span>
<span id="cb251-342"><a href="#cb251-342" aria-hidden="true" tabindex="-1"></a>Number of Nodes: 296 </span>
<span id="cb251-343"><a href="#cb251-343" aria-hidden="true" tabindex="-1"></a>Number of Edges: 1548 </span>
<span id="cb251-344"><a href="#cb251-344" aria-hidden="true" tabindex="-1"></a>Diameter: 7 </span>
<span id="cb251-345"><a href="#cb251-345" aria-hidden="true" tabindex="-1"></a>g_sex</span>
<span id="cb251-346"><a href="#cb251-346" aria-hidden="true" tabindex="-1"></a>Number of Nodes: 541 </span>
<span id="cb251-347"><a href="#cb251-347" aria-hidden="true" tabindex="-1"></a>Number of Edges: 2058407 </span>
<span id="cb251-348"><a href="#cb251-348" aria-hidden="true" tabindex="-1"></a>Diameter: 4 </span>
<span id="cb251-349"><a href="#cb251-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-350"><a href="#cb251-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-351"><a href="#cb251-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-352"><a href="#cb251-352" aria-hidden="true" tabindex="-1"></a>d.What constitutes a tie in these data? Is the tie weighted or unweighted? If weighted, what is the range of tie values? What is the tie measuring, and is the measure adequate?</span>
<span id="cb251-353"><a href="#cb251-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-354"><a href="#cb251-354" aria-hidden="true" tabindex="-1"></a>The Tie that this Data is measuring is the tie between the Industry a Person is in and the Demographic variables that a person has such as Race, Coutnry of Origin and  Gender.</span>
<span id="cb251-355"><a href="#cb251-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-356"><a href="#cb251-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-357"><a href="#cb251-357" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-358"><a href="#cb251-358" aria-hidden="true" tabindex="-1"></a>e.</span>
<span id="cb251-359"><a href="#cb251-359" aria-hidden="true" tabindex="-1"></a>Were any transformations used (e.g., thresholds, one-mode projection) to create final network data used in analysis?</span>
<span id="cb251-360"><a href="#cb251-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-361"><a href="#cb251-361" aria-hidden="true" tabindex="-1"></a>There were no transformations suhc as thresholds or one-mode projection used to create the final network data used in analysis.</span>
<span id="cb251-362"><a href="#cb251-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-363"><a href="#cb251-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-364"><a href="#cb251-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-365"><a href="#cb251-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-366"><a href="#cb251-366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-367"><a href="#cb251-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-368"><a href="#cb251-368" aria-hidden="true" tabindex="-1"></a>##Answers to Question 2</span>
<span id="cb251-369"><a href="#cb251-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-370"><a href="#cb251-370" aria-hidden="true" tabindex="-1"></a>2.</span>
<span id="cb251-371"><a href="#cb251-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-372"><a href="#cb251-372" aria-hidden="true" tabindex="-1"></a>Provide additional descriptive statistics about your network data. The information provided should be sufficient to allow someone to understand the distinctive features of your network data. Please include a substantive discussion or interpretation of the meaning of each of these features – this is not merely a statistical report. In addition to basic information about network size and range of tie values (provided above), look at the following:</span>
<span id="cb251-373"><a href="#cb251-373" aria-hidden="true" tabindex="-1"></a>number of components</span>
<span id="cb251-374"><a href="#cb251-374" aria-hidden="true" tabindex="-1"></a>(if not fully connected) proportion of nodes in giant component and proportion of unconnected nodes/singletons (if any)</span>
<span id="cb251-375"><a href="#cb251-375" aria-hidden="true" tabindex="-1"></a>(fully connected graphs or subgraphs only) Network diameter (the length of the longest geodesic in the network). Maybe distribution of network geodesics.</span>
<span id="cb251-376"><a href="#cb251-376" aria-hidden="true" tabindex="-1"></a>graph density</span>
<span id="cb251-377"><a href="#cb251-377" aria-hidden="true" tabindex="-1"></a>average node degree and degree distribution</span>
<span id="cb251-378"><a href="#cb251-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-379"><a href="#cb251-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-380"><a href="#cb251-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-381"><a href="#cb251-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-382"><a href="#cb251-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-383"><a href="#cb251-383" aria-hidden="true" tabindex="-1"></a>a. number of components</span>
<span id="cb251-386"><a href="#cb251-386" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-387"><a href="#cb251-387" aria-hidden="true" tabindex="-1"></a>components_sex <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_sex)</span>
<span id="cb251-388"><a href="#cb251-388" aria-hidden="true" tabindex="-1"></a>components_race <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_race)</span>
<span id="cb251-389"><a href="#cb251-389" aria-hidden="true" tabindex="-1"></a>components_country <span class="ot">&lt;-</span> <span class="fu">decompose.graph</span>(g_country)</span>
<span id="cb251-390"><a href="#cb251-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-391"><a href="#cb251-391" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of Components</span></span>
<span id="cb251-392"><a href="#cb251-392" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Number of Components:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-393"><a href="#cb251-393" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, <span class="fu">length</span>(components_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-394"><a href="#cb251-394" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, <span class="fu">length</span>(components_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-395"><a href="#cb251-395" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, <span class="fu">length</span>(components_country), <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb251-396"><a href="#cb251-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-397"><a href="#cb251-397" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-398"><a href="#cb251-398" aria-hidden="true" tabindex="-1"></a>Number of Components:</span>
<span id="cb251-399"><a href="#cb251-399" aria-hidden="true" tabindex="-1"></a>g_sex: 1 </span>
<span id="cb251-400"><a href="#cb251-400" aria-hidden="true" tabindex="-1"></a>g_race: 1 </span>
<span id="cb251-401"><a href="#cb251-401" aria-hidden="true" tabindex="-1"></a>g_country: 2 </span>
<span id="cb251-402"><a href="#cb251-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-403"><a href="#cb251-403" aria-hidden="true" tabindex="-1"></a>For Gender and Race, all the Nodes are Connected either directly or by some path.</span>
<span id="cb251-404"><a href="#cb251-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-405"><a href="#cb251-405" aria-hidden="true" tabindex="-1"></a>In contrast, the Country networkgraph is divided into two separate parts, with no connections between them.</span>
<span id="cb251-406"><a href="#cb251-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-407"><a href="#cb251-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-408"><a href="#cb251-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-409"><a href="#cb251-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-410"><a href="#cb251-410" aria-hidden="true" tabindex="-1"></a>b.(if not fully connected) proportion of nodes in giant component and proportion of unconnected nodes/singletons (if any)</span>
<span id="cb251-413"><a href="#cb251-413" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-414"><a href="#cb251-414" aria-hidden="true" tabindex="-1"></a>g_sex_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_sex)</span>
<span id="cb251-415"><a href="#cb251-415" aria-hidden="true" tabindex="-1"></a>g_race_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_race)</span>
<span id="cb251-416"><a href="#cb251-416" aria-hidden="true" tabindex="-1"></a>g_country_simple <span class="ot">&lt;-</span> <span class="fu">simplify</span>(g_country)</span>
<span id="cb251-417"><a href="#cb251-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-418"><a href="#cb251-418" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect communities</span></span>
<span id="cb251-419"><a href="#cb251-419" aria-hidden="true" tabindex="-1"></a>communities_sex <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_sex_simple)</span>
<span id="cb251-420"><a href="#cb251-420" aria-hidden="true" tabindex="-1"></a>communities_race <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_race_simple)</span>
<span id="cb251-421"><a href="#cb251-421" aria-hidden="true" tabindex="-1"></a>communities_country <span class="ot">&lt;-</span> <span class="fu">cluster_fast_greedy</span>(g_country_simple)</span>
<span id="cb251-422"><a href="#cb251-422" aria-hidden="true" tabindex="-1"></a>sizes_sex <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_sex)</span>
<span id="cb251-423"><a href="#cb251-423" aria-hidden="true" tabindex="-1"></a>sizes_race <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_race)</span>
<span id="cb251-424"><a href="#cb251-424" aria-hidden="true" tabindex="-1"></a>sizes_country <span class="ot">&lt;-</span> <span class="fu">sizes</span>(communities_country)</span>
<span id="cb251-425"><a href="#cb251-425" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_sex <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_sex) <span class="sc">/</span> <span class="fu">vcount</span>(g_sex_simple)</span>
<span id="cb251-426"><a href="#cb251-426" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_race <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_race) <span class="sc">/</span> <span class="fu">vcount</span>(g_race_simple)</span>
<span id="cb251-427"><a href="#cb251-427" aria-hidden="true" tabindex="-1"></a>prop_giant_comp_country <span class="ot">&lt;-</span> <span class="fu">max</span>(sizes_country) <span class="sc">/</span> <span class="fu">vcount</span>(g_country_simple)</span>
<span id="cb251-428"><a href="#cb251-428" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Proportion of Nodes in Giant Component:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-429"><a href="#cb251-429" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, prop_giant_comp_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-430"><a href="#cb251-430" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, prop_giant_comp_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-431"><a href="#cb251-431" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, prop_giant_comp_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb251-432"><a href="#cb251-432" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-433"><a href="#cb251-433" aria-hidden="true" tabindex="-1"></a>g_sex: 0.5009242 </span>
<span id="cb251-434"><a href="#cb251-434" aria-hidden="true" tabindex="-1"></a>g_race: 0.5837743 </span>
<span id="cb251-435"><a href="#cb251-435" aria-hidden="true" tabindex="-1"></a>g_country: 0.1790541 </span>
<span id="cb251-436"><a href="#cb251-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-437"><a href="#cb251-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-438"><a href="#cb251-438" aria-hidden="true" tabindex="-1"></a>g_sex: 0.5009242: About 50.09% of the nodes in the g_sex graph are part of the largest connected component.</span>
<span id="cb251-439"><a href="#cb251-439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-440"><a href="#cb251-440" aria-hidden="true" tabindex="-1"></a>g_race: 0.5837743: About 58.38% of the nodes in the g_race graph are part of the largest connected component.</span>
<span id="cb251-441"><a href="#cb251-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-442"><a href="#cb251-442" aria-hidden="true" tabindex="-1"></a>g_country: 0.1790541: Only about 17.91% of the nodes in the g_country graph are part of the largest connected component.</span>
<span id="cb251-443"><a href="#cb251-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-444"><a href="#cb251-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-445"><a href="#cb251-445" aria-hidden="true" tabindex="-1"></a>C.(fully connected graphs or subgraphs only) Network diameter (the length of the longest geodesic in the network). Maybe distribution of network geodesics.</span>
<span id="cb251-446"><a href="#cb251-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-449"><a href="#cb251-449" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-450"><a href="#cb251-450" aria-hidden="true" tabindex="-1"></a><span class="do">##Diameter</span></span>
<span id="cb251-451"><a href="#cb251-451" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_race), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-452"><a href="#cb251-452" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_country), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-453"><a href="#cb251-453" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Diameter:"</span>, <span class="fu">diameter</span>(g_sex), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-454"><a href="#cb251-454" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-455"><a href="#cb251-455" aria-hidden="true" tabindex="-1"></a> g_race: Diameter: 3 </span>
<span id="cb251-456"><a href="#cb251-456" aria-hidden="true" tabindex="-1"></a>g_country: Diameter: 7 </span>
<span id="cb251-457"><a href="#cb251-457" aria-hidden="true" tabindex="-1"></a>g_sex: Diameter: 4 </span>
<span id="cb251-458"><a href="#cb251-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-459"><a href="#cb251-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-460"><a href="#cb251-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-461"><a href="#cb251-461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-462"><a href="#cb251-462" aria-hidden="true" tabindex="-1"></a>D.graph density</span>
<span id="cb251-465"><a href="#cb251-465" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-466"><a href="#cb251-466" aria-hidden="true" tabindex="-1"></a><span class="co"># Network Density</span></span>
<span id="cb251-467"><a href="#cb251-467" aria-hidden="true" tabindex="-1"></a>density_sex <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_sex)</span>
<span id="cb251-468"><a href="#cb251-468" aria-hidden="true" tabindex="-1"></a>density_race <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_race)</span>
<span id="cb251-469"><a href="#cb251-469" aria-hidden="true" tabindex="-1"></a>density_country <span class="ot">&lt;-</span> <span class="fu">edge_density</span>(g_country)</span>
<span id="cb251-470"><a href="#cb251-470" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Network Density:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-471"><a href="#cb251-471" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, density_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-472"><a href="#cb251-472" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, density_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-473"><a href="#cb251-473" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, density_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb251-474"><a href="#cb251-474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-475"><a href="#cb251-475" aria-hidden="true" tabindex="-1"></a>Network Density:</span>
<span id="cb251-476"><a href="#cb251-476" aria-hidden="true" tabindex="-1"></a>g_sex: 14.09192 </span>
<span id="cb251-477"><a href="#cb251-477" aria-hidden="true" tabindex="-1"></a>g_race: 12.82808 </span>
<span id="cb251-478"><a href="#cb251-478" aria-hidden="true" tabindex="-1"></a>g_country: 0.03545579 </span>
<span id="cb251-479"><a href="#cb251-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-480"><a href="#cb251-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-481"><a href="#cb251-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-482"><a href="#cb251-482" aria-hidden="true" tabindex="-1"></a>e.average node degree and degree distribution</span>
<span id="cb251-485"><a href="#cb251-485" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-486"><a href="#cb251-486" aria-hidden="true" tabindex="-1"></a>avg_degree_sex <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_sex))</span>
<span id="cb251-487"><a href="#cb251-487" aria-hidden="true" tabindex="-1"></a>avg_degree_race <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_race))</span>
<span id="cb251-488"><a href="#cb251-488" aria-hidden="true" tabindex="-1"></a>avg_degree_country <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">degree</span>(g_country))</span>
<span id="cb251-489"><a href="#cb251-489" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Average Node Degree:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-490"><a href="#cb251-490" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:"</span>, avg_degree_sex, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-491"><a href="#cb251-491" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_race:"</span>, avg_degree_race, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-492"><a href="#cb251-492" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_country:"</span>, avg_degree_country, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb251-493"><a href="#cb251-493" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-494"><a href="#cb251-494" aria-hidden="true" tabindex="-1"></a>Average Node Degree:</span>
<span id="cb251-495"><a href="#cb251-495" aria-hidden="true" tabindex="-1"></a>g_sex: 7609.638 </span>
<span id="cb251-496"><a href="#cb251-496" aria-hidden="true" tabindex="-1"></a>g_race: 7260.695 </span>
<span id="cb251-497"><a href="#cb251-497" aria-hidden="true" tabindex="-1"></a>g_country: 10.45946 </span>
<span id="cb251-498"><a href="#cb251-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-499"><a href="#cb251-499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-500"><a href="#cb251-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-503"><a href="#cb251-503" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-504"><a href="#cb251-504" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Degree Distribution Summary:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-505"><a href="#cb251-505" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"g_sex:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-506"><a href="#cb251-506" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_sex))</span>
<span id="cb251-507"><a href="#cb251-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-508"><a href="#cb251-508" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">g_race:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-509"><a href="#cb251-509" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_race))</span>
<span id="cb251-510"><a href="#cb251-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-511"><a href="#cb251-511" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">g_country:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-512"><a href="#cb251-512" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">degree_distribution</span>(g_country))</span>
<span id="cb251-513"><a href="#cb251-513" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-514"><a href="#cb251-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-515"><a href="#cb251-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-516"><a href="#cb251-516" aria-hidden="true" tabindex="-1"></a>3.Provide a visualization of the network. If the network is too large to be anything more than a hairball, visualize a subset of the graph with a rationale for selecting that subset </span>
<span id="cb251-517"><a href="#cb251-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-518"><a href="#cb251-518" aria-hidden="true" tabindex="-1"></a>Visualization for g_race</span>
<span id="cb251-521"><a href="#cb251-521" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-522"><a href="#cb251-522" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb251-523"><a href="#cb251-523" aria-hidden="true" tabindex="-1"></a>subset_vertices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">V</span>(g_race), <span class="at">size =</span> <span class="dv">20</span>)</span>
<span id="cb251-524"><a href="#cb251-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-525"><a href="#cb251-525" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the labels of the selected races</span></span>
<span id="cb251-526"><a href="#cb251-526" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">V</span>(g_race)<span class="sc">$</span>RACE_1[subset_vertices]</span>
<span id="cb251-527"><a href="#cb251-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-528"><a href="#cb251-528" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subgraph containing only the subset of vertices and their incident edges</span></span>
<span id="cb251-529"><a href="#cb251-529" aria-hidden="true" tabindex="-1"></a>subgraph_race <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(g_race, subset_vertices)</span>
<span id="cb251-530"><a href="#cb251-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-531"><a href="#cb251-531" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the subgraph with vertex labels and edges</span></span>
<span id="cb251-532"><a href="#cb251-532" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(subgraph_race, <span class="at">vertex.label =</span> labels, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span>
<span id="cb251-533"><a href="#cb251-533" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-534"><a href="#cb251-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-535"><a href="#cb251-535" aria-hidden="true" tabindex="-1"></a>Visualization for g_sex</span>
<span id="cb251-538"><a href="#cb251-538" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-539"><a href="#cb251-539" aria-hidden="true" tabindex="-1"></a>subset_vertices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">V</span>(g_sex), <span class="at">size =</span> <span class="dv">20</span>)</span>
<span id="cb251-540"><a href="#cb251-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-541"><a href="#cb251-541" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the labels of the selected sexes</span></span>
<span id="cb251-542"><a href="#cb251-542" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">V</span>(g_sex)<span class="sc">$</span>SEX_1[subset_vertices]</span>
<span id="cb251-543"><a href="#cb251-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-544"><a href="#cb251-544" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subgraph containing only the subset of vertices and their incident edges</span></span>
<span id="cb251-545"><a href="#cb251-545" aria-hidden="true" tabindex="-1"></a>subgraph_sex <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(g_sex, subset_vertices)</span>
<span id="cb251-546"><a href="#cb251-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-547"><a href="#cb251-547" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the subgraph with vertex labels and edges</span></span>
<span id="cb251-548"><a href="#cb251-548" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(subgraph_sex, <span class="at">vertex.label =</span> labels, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span>
<span id="cb251-549"><a href="#cb251-549" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-550"><a href="#cb251-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-551"><a href="#cb251-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-552"><a href="#cb251-552" aria-hidden="true" tabindex="-1"></a>Visualization for g_country</span>
<span id="cb251-555"><a href="#cb251-555" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-556"><a href="#cb251-556" aria-hidden="true" tabindex="-1"></a>subset_vertices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">V</span>(g_country), <span class="at">size =</span> <span class="dv">20</span>)</span>
<span id="cb251-557"><a href="#cb251-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-558"><a href="#cb251-558" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the labels of the selected countries</span></span>
<span id="cb251-559"><a href="#cb251-559" aria-hidden="true" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">V</span>(g_country)<span class="sc">$</span>COUNTRY_1[subset_vertices]</span>
<span id="cb251-560"><a href="#cb251-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-561"><a href="#cb251-561" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subgraph containing only the subset of vertices and their incident edges</span></span>
<span id="cb251-562"><a href="#cb251-562" aria-hidden="true" tabindex="-1"></a>subgraph_country <span class="ot">&lt;-</span> <span class="fu">induced_subgraph</span>(g_country, subset_vertices)</span>
<span id="cb251-563"><a href="#cb251-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-564"><a href="#cb251-564" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the subgraph with vertex labels and edges</span></span>
<span id="cb251-565"><a href="#cb251-565" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(subgraph_country, <span class="at">vertex.label =</span> labels, <span class="at">edge.arrow.size =</span> <span class="fl">0.5</span>)</span>
<span id="cb251-566"><a href="#cb251-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-567"><a href="#cb251-567" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-568"><a href="#cb251-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-569"><a href="#cb251-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-570"><a href="#cb251-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-571"><a href="#cb251-571" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Identify prominent nodes in the graph using at least one from each group of measures (a and b) below and interpret your results. </span>
<span id="cb251-572"><a href="#cb251-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-573"><a href="#cb251-573" aria-hidden="true" tabindex="-1"></a>a. Measures of popularity/status: degree centrality, betweenness centrality, eigenvector centrality</span>
<span id="cb251-574"><a href="#cb251-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-575"><a href="#cb251-575" aria-hidden="true" tabindex="-1"></a>b.Measures of role/power: structural equivalence (use a similarity measure from week 6), constraint, betweenness, Gould/Fernandez brokerage.</span>
<span id="cb251-576"><a href="#cb251-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-577"><a href="#cb251-577" aria-hidden="true" tabindex="-1"></a>Measures for a &amp; b for all three graphs.</span>
<span id="cb251-578"><a href="#cb251-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-579"><a href="#cb251-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-580"><a href="#cb251-580" aria-hidden="true" tabindex="-1"></a>g_sex</span>
<span id="cb251-583"><a href="#cb251-583" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-584"><a href="#cb251-584" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate measures of popularity/status</span></span>
<span id="cb251-585"><a href="#cb251-585" aria-hidden="true" tabindex="-1"></a>degree_centrality_sex <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_sex)</span>
<span id="cb251-586"><a href="#cb251-586" aria-hidden="true" tabindex="-1"></a>betweenness_centrality <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_sex)</span>
<span id="cb251-587"><a href="#cb251-587" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_sex)<span class="sc">$</span>vector</span>
<span id="cb251-588"><a href="#cb251-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-589"><a href="#cb251-589" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the measures of popularity/status</span></span>
<span id="cb251-590"><a href="#cb251-590" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Centrality Measures for Gender</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-591"><a href="#cb251-591" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-592"><a href="#cb251-592" aria-hidden="true" tabindex="-1"></a><span class="co"># In-degree</span></span>
<span id="cb251-593"><a href="#cb251-593" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Degree Centrality :</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-594"><a href="#cb251-594" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(degree_centrality_sex , <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-595"><a href="#cb251-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-596"><a href="#cb251-596" aria-hidden="true" tabindex="-1"></a><span class="co"># Betweenness centrality</span></span>
<span id="cb251-597"><a href="#cb251-597" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Betweenness Centrality:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-598"><a href="#cb251-598" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(betweenness_centrality, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-599"><a href="#cb251-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-600"><a href="#cb251-600" aria-hidden="true" tabindex="-1"></a><span class="co"># Eigenvector centrality</span></span>
<span id="cb251-601"><a href="#cb251-601" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Eigenvector Centrality:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-602"><a href="#cb251-602" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(eigenvector_centrality, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-603"><a href="#cb251-603" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-604"><a href="#cb251-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-605"><a href="#cb251-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-606"><a href="#cb251-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-607"><a href="#cb251-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-610"><a href="#cb251-610" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-611"><a href="#cb251-611" aria-hidden="true" tabindex="-1"></a><span class="do">##Race</span></span>
<span id="cb251-612"><a href="#cb251-612" aria-hidden="true" tabindex="-1"></a>degree_centrality_race <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_race)</span>
<span id="cb251-613"><a href="#cb251-613" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_race <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_race)</span>
<span id="cb251-614"><a href="#cb251-614" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_race <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_race)<span class="sc">$</span>vector</span>
<span id="cb251-615"><a href="#cb251-615" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Degree Centrality For Race:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-616"><a href="#cb251-616" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(degree_centrality_race , <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-617"><a href="#cb251-617" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Betweenness Centrality for Race :</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-618"><a href="#cb251-618" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(betweenness_centrality_race, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-619"><a href="#cb251-619" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Eigenvector Centrality For Race:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-620"><a href="#cb251-620" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(eigenvector_centrality_race, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-621"><a href="#cb251-621" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-622"><a href="#cb251-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-623"><a href="#cb251-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-626"><a href="#cb251-626" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-627"><a href="#cb251-627" aria-hidden="true" tabindex="-1"></a>degree_centrality_country <span class="ot">&lt;-</span> <span class="fu">degree</span>(g_country)</span>
<span id="cb251-628"><a href="#cb251-628" aria-hidden="true" tabindex="-1"></a>betweenness_centrality_country <span class="ot">&lt;-</span> <span class="fu">betweenness</span>(g_country)</span>
<span id="cb251-629"><a href="#cb251-629" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_country <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_country)<span class="sc">$</span>vector</span>
<span id="cb251-630"><a href="#cb251-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-631"><a href="#cb251-631" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Degree Centrality for Country:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-632"><a href="#cb251-632" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(degree_centrality_country, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-633"><a href="#cb251-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-634"><a href="#cb251-634" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Betweenness Centrality for Country:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-635"><a href="#cb251-635" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(betweenness_centrality_country, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-636"><a href="#cb251-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-637"><a href="#cb251-637" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Eigenvector Centrality for Country:</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb251-638"><a href="#cb251-638" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(eigenvector_centrality_country, <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-639"><a href="#cb251-639" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-640"><a href="#cb251-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-641"><a href="#cb251-641" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-642"><a href="#cb251-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-643"><a href="#cb251-643" aria-hidden="true" tabindex="-1"></a><span class="fu">## Filtering Graphs to identify Industries domianted by Race and Gender</span></span>
<span id="cb251-644"><a href="#cb251-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-645"><a href="#cb251-645" aria-hidden="true" tabindex="-1"></a>c.Clearly define the measure that you are using and explain what being high/low on the measure indicates</span>
<span id="cb251-646"><a href="#cb251-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-647"><a href="#cb251-647" aria-hidden="true" tabindex="-1"></a>I'm going to filter Degree Centrality of White among Race and  Male among Sex to see industries domianted by White Males.</span>
<span id="cb251-648"><a href="#cb251-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-651"><a href="#cb251-651" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-652"><a href="#cb251-652" aria-hidden="true" tabindex="-1"></a>filtered_edges <span class="ot">&lt;-</span> edge_matrix_race[edge_matrix_race<span class="sc">$</span>from <span class="sc">==</span> <span class="st">"White"</span>, ]</span>
<span id="cb251-653"><a href="#cb251-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-654"><a href="#cb251-654" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new igraph object with the filtered edges</span></span>
<span id="cb251-655"><a href="#cb251-655" aria-hidden="true" tabindex="-1"></a>g_white <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(filtered_edges, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb251-656"><a href="#cb251-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-657"><a href="#cb251-657" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_white <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_white)<span class="sc">$</span>vector</span>
<span id="cb251-658"><a href="#cb251-658" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(eigenvector_centrality_white[<span class="sc">-</span><span class="dv">1</span>], <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-659"><a href="#cb251-659" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-660"><a href="#cb251-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-663"><a href="#cb251-663" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-664"><a href="#cb251-664" aria-hidden="true" tabindex="-1"></a>filtered_edges <span class="ot">&lt;-</span> edge_matrix_sex[edge_matrix_sex<span class="sc">$</span>from <span class="sc">==</span> <span class="st">"Male"</span>, ]</span>
<span id="cb251-665"><a href="#cb251-665" aria-hidden="true" tabindex="-1"></a>g_male <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(filtered_edges, <span class="at">directed =</span> <span class="cn">FALSE</span>)</span>
<span id="cb251-666"><a href="#cb251-666" aria-hidden="true" tabindex="-1"></a>eigenvector_centrality_male <span class="ot">&lt;-</span> <span class="fu">eigen_centrality</span>(g_male)<span class="sc">$</span>vector</span>
<span id="cb251-667"><a href="#cb251-667" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(<span class="fu">sort</span>(eigenvector_centrality_male[<span class="sc">-</span><span class="dv">1</span>], <span class="at">decreasing =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="dv">10</span>))</span>
<span id="cb251-668"><a href="#cb251-668" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-669"><a href="#cb251-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-670"><a href="#cb251-670" aria-hidden="true" tabindex="-1"></a>e.Identify the node(s) that have remarkable (high/low/higher/lower than expected) values on the measure in question.</span>
<span id="cb251-671"><a href="#cb251-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-672"><a href="#cb251-672" aria-hidden="true" tabindex="-1"></a>One thing that I found suprising was that the eigenvector Industries for "White" and "Male" were similar.</span>
<span id="cb251-673"><a href="#cb251-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-674"><a href="#cb251-674" aria-hidden="true" tabindex="-1"></a>Another thing I didn't expect was that Hospitals were Male Dominated. Perhaps, that is due to Hospital Management being male-lead.</span>
<span id="cb251-675"><a href="#cb251-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-676"><a href="#cb251-676" aria-hidden="true" tabindex="-1"></a>f.What sort of expectations do we have for the behavior of the node(s) identified, and does their observed behavior fulfill these expectations?</span>
<span id="cb251-677"><a href="#cb251-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-678"><a href="#cb251-678" aria-hidden="true" tabindex="-1"></a>One thing that I found interesting was that the Men had the highest betweenness centrality, showing they control the flow of connections between Industries. </span>
<span id="cb251-681"><a href="#cb251-681" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-682"><a href="#cb251-682" aria-hidden="true" tabindex="-1"></a><span class="co"># Louvain algorithm for community detection</span></span>
<span id="cb251-683"><a href="#cb251-683" aria-hidden="true" tabindex="-1"></a>louvain_race <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_race)</span>
<span id="cb251-684"><a href="#cb251-684" aria-hidden="true" tabindex="-1"></a>louvain_country <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_country)</span>
<span id="cb251-685"><a href="#cb251-685" aria-hidden="true" tabindex="-1"></a>louvain_sex <span class="ot">&lt;-</span> <span class="fu">cluster_louvain</span>(g_sex)</span>
<span id="cb251-686"><a href="#cb251-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-687"><a href="#cb251-687" aria-hidden="true" tabindex="-1"></a><span class="co"># Community membership</span></span>
<span id="cb251-688"><a href="#cb251-688" aria-hidden="true" tabindex="-1"></a>community_race <span class="ot">&lt;-</span> <span class="fu">membership</span>(louvain_race)</span>
<span id="cb251-689"><a href="#cb251-689" aria-hidden="true" tabindex="-1"></a>community_country <span class="ot">&lt;-</span> <span class="fu">membership</span>(louvain_country)</span>
<span id="cb251-690"><a href="#cb251-690" aria-hidden="true" tabindex="-1"></a>community_sex <span class="ot">&lt;-</span> <span class="fu">membership</span>(louvain_sex)</span>
<span id="cb251-691"><a href="#cb251-691" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-692"><a href="#cb251-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-693"><a href="#cb251-693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-694"><a href="#cb251-694" aria-hidden="true" tabindex="-1"></a>For Loop for Communities among g_race</span>
<span id="cb251-697"><a href="#cb251-697" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-698"><a href="#cb251-698" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(community_race)) {</span>
<span id="cb251-699"><a href="#cb251-699" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Community"</span>, i, <span class="st">": "</span>)</span>
<span id="cb251-700"><a href="#cb251-700" aria-hidden="true" tabindex="-1"></a>  vertices <span class="ot">&lt;-</span> <span class="fu">V</span>(g_race)<span class="sc">$</span>name[community_race <span class="sc">==</span> i]</span>
<span id="cb251-701"><a href="#cb251-701" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(vertices)</span>
<span id="cb251-702"><a href="#cb251-702" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb251-703"><a href="#cb251-703" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-704"><a href="#cb251-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-705"><a href="#cb251-705" aria-hidden="true" tabindex="-1"></a>For Loop for Communities among g_sex</span>
<span id="cb251-708"><a href="#cb251-708" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-709"><a href="#cb251-709" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(community_sex)) {</span>
<span id="cb251-710"><a href="#cb251-710" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Community"</span>, i, <span class="st">": "</span>)</span>
<span id="cb251-711"><a href="#cb251-711" aria-hidden="true" tabindex="-1"></a>  vertices <span class="ot">&lt;-</span> <span class="fu">V</span>(g_sex)<span class="sc">$</span>name[community_sex <span class="sc">==</span> i]</span>
<span id="cb251-712"><a href="#cb251-712" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(vertices)</span>
<span id="cb251-713"><a href="#cb251-713" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb251-714"><a href="#cb251-714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-715"><a href="#cb251-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-716"><a href="#cb251-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-717"><a href="#cb251-717" aria-hidden="true" tabindex="-1"></a>For Loop for Communities among g_country</span>
<span id="cb251-720"><a href="#cb251-720" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-721"><a href="#cb251-721" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">unique</span>(community_country)) {</span>
<span id="cb251-722"><a href="#cb251-722" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"Community"</span>, i, <span class="st">": "</span>)</span>
<span id="cb251-723"><a href="#cb251-723" aria-hidden="true" tabindex="-1"></a>  vertices <span class="ot">&lt;-</span> <span class="fu">V</span>(g_country)<span class="sc">$</span>name[community_country <span class="sc">==</span> i]</span>
<span id="cb251-724"><a href="#cb251-724" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(vertices)</span>
<span id="cb251-725"><a href="#cb251-725" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb251-726"><a href="#cb251-726" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-727"><a href="#cb251-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-728"><a href="#cb251-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-729"><a href="#cb251-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-730"><a href="#cb251-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-731"><a href="#cb251-731" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-732"><a href="#cb251-732" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb251-733"><a href="#cb251-733" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb251-734"><a href="#cb251-734" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb251-735"><a href="#cb251-735" aria-hidden="true" tabindex="-1"></a><span class="ss"> 6. </span>Identify at least one network-related hypothesis that might be asked using these network data and use inferential statistics to address this question</span>
<span id="cb251-736"><a href="#cb251-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-737"><a href="#cb251-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-738"><a href="#cb251-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-741"><a href="#cb251-741" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-742"><a href="#cb251-742" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(network)</span>
<span id="cb251-743"><a href="#cb251-743" aria-hidden="true" tabindex="-1"></a>edges_gender <span class="ot">&lt;-</span> <span class="fu">as_edgelist</span>(g_sex)</span>
<span id="cb251-744"><a href="#cb251-744" aria-hidden="true" tabindex="-1"></a>network_gender <span class="ot">&lt;-</span> <span class="fu">network</span>(edges_gender)</span>
<span id="cb251-745"><a href="#cb251-745" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-746"><a href="#cb251-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-747"><a href="#cb251-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-748"><a href="#cb251-748" aria-hidden="true" tabindex="-1"></a>#Hypopthesis , Increased Edges for Gender and Race result in Negative Coefficient or less desirable outcomes.</span>
<span id="cb251-749"><a href="#cb251-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-750"><a href="#cb251-750" aria-hidden="true" tabindex="-1"></a>As it basically, leaves Industries open to divide and Conquer.</span>
<span id="cb251-751"><a href="#cb251-751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-754"><a href="#cb251-754" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-755"><a href="#cb251-755" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ergm)</span>
<span id="cb251-756"><a href="#cb251-756" aria-hidden="true" tabindex="-1"></a>model_gender <span class="ot">&lt;-</span> <span class="fu">ergm</span>(network_gender <span class="sc">~</span> edges)</span>
<span id="cb251-757"><a href="#cb251-757" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_gender)</span>
<span id="cb251-758"><a href="#cb251-758" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-759"><a href="#cb251-759" aria-hidden="true" tabindex="-1"></a>The estimated coefficient for the edges term is -4.41290, with a standard error of 0.01623. The negative coefficient suggests that the presence of edges (connections) in the gender network has a significant negative effect.</span>
<span id="cb251-760"><a href="#cb251-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-761"><a href="#cb251-761" aria-hidden="true" tabindex="-1"></a>The AIC  is 41652, and the BIC  is 41663. . The AIC and BIC values are quite close, indicating a good fit of the model.</span>
<span id="cb251-762"><a href="#cb251-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-763"><a href="#cb251-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-764"><a href="#cb251-764" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-767"><a href="#cb251-767" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-768"><a href="#cb251-768" aria-hidden="true" tabindex="-1"></a>num_edges_race <span class="ot">&lt;-</span> <span class="fu">as_edgelist</span>(g_race)</span>
<span id="cb251-769"><a href="#cb251-769" aria-hidden="true" tabindex="-1"></a>network_race <span class="ot">&lt;-</span> <span class="fu">network</span>(num_edges_race)</span>
<span id="cb251-770"><a href="#cb251-770" aria-hidden="true" tabindex="-1"></a>erg_race <span class="ot">&lt;-</span> <span class="fu">ergm</span>(network_race <span class="sc">~</span> edges)</span>
<span id="cb251-771"><a href="#cb251-771" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(erg_race)</span>
<span id="cb251-772"><a href="#cb251-772" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-773"><a href="#cb251-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-774"><a href="#cb251-774" aria-hidden="true" tabindex="-1"></a>The estimated coefficient for the edges term is -4.41290, with a standard error of 0.01623. The negative coefficient suggests that the presence of edges (connections) in the race network has a significant negative effect.</span>
<span id="cb251-775"><a href="#cb251-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-776"><a href="#cb251-776" aria-hidden="true" tabindex="-1"></a>The AIC  is 41652, and the BIC  is 41663.The AIC and BIC values are quite close, indicating a good fit of the model.</span>
<span id="cb251-777"><a href="#cb251-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-778"><a href="#cb251-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-779"><a href="#cb251-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-780"><a href="#cb251-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-783"><a href="#cb251-783" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb251-784"><a href="#cb251-784" aria-hidden="true" tabindex="-1"></a>num_edges_country <span class="ot">&lt;-</span> <span class="fu">as_edgelist</span>(g_country)</span>
<span id="cb251-785"><a href="#cb251-785" aria-hidden="true" tabindex="-1"></a>network_country <span class="ot">&lt;-</span> <span class="fu">network</span>(num_edges_country )</span>
<span id="cb251-786"><a href="#cb251-786" aria-hidden="true" tabindex="-1"></a>erg_race <span class="ot">&lt;-</span> <span class="fu">ergm</span>(network_country  <span class="sc">~</span> edges)</span>
<span id="cb251-787"><a href="#cb251-787" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(erg_race)</span>
<span id="cb251-788"><a href="#cb251-788" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb251-789"><a href="#cb251-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-790"><a href="#cb251-790" aria-hidden="true" tabindex="-1"></a>Again another negative coefficient, suggesting that the presence of edges (connections) in the country network has a significant negative effect.</span>
<span id="cb251-791"><a href="#cb251-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-792"><a href="#cb251-792" aria-hidden="true" tabindex="-1"></a>The AIC  is 7412, and the BIC  is 7422. The AIC and BIC values are quite close, indicating a good fit of the model.</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>