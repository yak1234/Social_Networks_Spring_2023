<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Erika Nagai">
<meta name="dcterms.date" content="2023-03-28">

<title>Assignment Kpop Collaboration Network</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/DACSS_Round_Network.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<meta name="twitter:title" content="Assignment Kpop Collaboration Network">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://dacss.github.io/Social_Networks_Spring_2023/posts/Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-17-1.png">
<meta name="twitter:creator" content="@UMassDACSS">
<meta name="twitter:site" content="@UMassDACSS">
<meta name="twitter:image-height" content="960">
<meta name="twitter:image-width" content="1344">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/UMass White Wordmark Horiz.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="true"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://dacss.github.io/Social_Networks_Spring_2023/" rel="" target="">
 <span class="menu-text">Spring 2023 Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html" rel="" target="">
 <span class="menu-text">Contributors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://umass.edu/sbs/dacss" rel="" target="">
 <span class="menu-text">DACSS</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://dacss.github.io/Social_Networks_Spring_2023/" rel="" target=""><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#collect-the-data" id="toc-collect-the-data" class="nav-link" data-scroll-target="#collect-the-data">Collect the data</a></li>
  <li><a href="#describe-clean-the-data" id="toc-describe-clean-the-data" class="nav-link" data-scroll-target="#describe-clean-the-data">Describe &amp; Clean the data</a>
  <ul class="collapse">
  <li><a href="#collab_songs-dataframe" id="toc-collab_songs-dataframe" class="nav-link" data-scroll-target="#collab_songs-dataframe"><code>collab_songs</code> dataframe</a></li>
  <li><a href="#artists-artist.csv" id="toc-artists-artist.csv" class="nav-link" data-scroll-target="#artists-artist.csv">Artists (artist.csv)</a></li>
  <li><a href="#song_detail-song_detail.csv" id="toc-song_detail-song_detail.csv" class="nav-link" data-scroll-target="#song_detail-song_detail.csv">song_detail (song_detail.csv)</a></li>
  <li><a href="#extra-data-cleaning" id="toc-extra-data-cleaning" class="nav-link" data-scroll-target="#extra-data-cleaning">Extra data cleaning</a></li>
  </ul></li>
  <li><a href="#exploring-the-data" id="toc-exploring-the-data" class="nav-link" data-scroll-target="#exploring-the-data">Exploring the data</a>
  <ul class="collapse">
  <li><a href="#how-many-k-pop-collaboration-songs-are-released-by-year" id="toc-how-many-k-pop-collaboration-songs-are-released-by-year" class="nav-link" data-scroll-target="#how-many-k-pop-collaboration-songs-are-released-by-year">How many K-pop collaboration songs are released by year?</a></li>
  <li><a href="#is-the-popularity-of-k-pop-collaboration-songs-increasing" id="toc-is-the-popularity-of-k-pop-collaboration-songs-increasing" class="nav-link" data-scroll-target="#is-the-popularity-of-k-pop-collaboration-songs-increasing">Is the popularity of K-pop collaboration songs increasing?</a></li>
  </ul></li>
  <li><a href="#convert-this-data-to-network-data" id="toc-convert-this-data-to-network-data" class="nav-link" data-scroll-target="#convert-this-data-to-network-data">Convert this data to network data</a>
  <ul class="collapse">
  <li><a href="#edgelist-without-spliting" id="toc-edgelist-without-spliting" class="nav-link" data-scroll-target="#edgelist-without-spliting">Edgelist (without spliting)</a></li>
  </ul></li>
  <li><a href="#overview-of-k-pop-collaboration-network" id="toc-overview-of-k-pop-collaboration-network" class="nav-link" data-scroll-target="#overview-of-k-pop-collaboration-network">Overview of K-pop collaboration network</a></li>
  <li><a href="#overview-how-the-collaboration-patterns-have-changed-over-time" id="toc-overview-how-the-collaboration-patterns-have-changed-over-time" class="nav-link" data-scroll-target="#overview-how-the-collaboration-patterns-have-changed-over-time">Overview: How the collaboration patterns have changed over time?</a></li>
  <li><a href="#closer-look-how-does-the-network-change-every-year" id="toc-closer-look-how-does-the-network-change-every-year" class="nav-link" data-scroll-target="#closer-look-how-does-the-network-change-every-year">Closer look: How does the network change every year?</a>
  <ul class="collapse">
  <li><a href="#number-of-nodes-and-edges" id="toc-number-of-nodes-and-edges" class="nav-link" data-scroll-target="#number-of-nodes-and-edges">Number of nodes and edges</a></li>
  </ul></li>
  <li><a href="#artist-based-analysis-who-is-the-center-of-k-pop-network" id="toc-artist-based-analysis-who-is-the-center-of-k-pop-network" class="nav-link" data-scroll-target="#artist-based-analysis-who-is-the-center-of-k-pop-network">Artist-based analysis: Who is the center of K-pop network?</a></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion">Discussion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Assignment Kpop Collaboration Network</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Erika Nagai </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 28, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="overview" class="level1">
<h1>Overview</h1>
<p>The phenomenon of K-pop has recently emerged as a prominent cultural force, gaining significant attention and popularity not only in South Korea and other Asian nations but globally as well, particularly among the younger generation. An interesting aspect of K-pop is that many K-pop artists collaborate with other artists, often those who are not based in South Korea. In this analysis, my objective is to delve into the dynamics of such collaborations within the K-pop industry and beyond, across various musical genres, and to investigate how these collaborative patterns have evolved over time. To achieve this goal, I aim to examine the social network of K-pop collaborations, with a view to gaining a better understanding of the underlying trends and structures shaping this phenomenon.</p>
</section>
<section id="collect-the-data" class="level1">
<h1>Collect the data</h1>
<p>I collected the data in a following way.</p>
<p><strong>collab_songs.csv:</strong></p>
<p>This is a list of collaboration songs collected by</p>
<ol type="1">
<li>gathering the name of the top 50 Kpop artists in 2010, 2015, and 2020 by asking ChatGPT</li>
<li>manually collecting their Spotify artist id</li>
<li>collecting all the singles/albums data of the artists by using Spotify API and</li>
<li>removing the songs that are NOT collaborative by filtering out those who have only one artist registered</li>
</ol>
<p><strong>artist.csv:</strong></p>
<p>This is a list of artists performed the collaboration songs collected by</p>
<ol type="1">
<li>extracting the unique artists from the collab_songs.csv</li>
<li>collecting their information (genre and followers) using Spotify API</li>
</ol>
<p><strong>song_detail.csv:</strong></p>
<p>This is a list of songs with detail information prepared by</p>
<ol type="1">
<li>extracting the detailed song information (release year, available market etc) by using Spotify API based on the track id from kpop_collab.csv</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'igraph' was built under R version 4.2.2</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'igraph'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    decompose, spectrum</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:base':

    union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:igraph':

    as_data_frame, groups, union</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'readr' was built under R version 4.2.2</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'tidyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:igraph':

    crossing</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C:/Users/Microsoft/Documents/DACSS/753_Social_Network/Social_Networks_Spring_2023/posts"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/collab_songs.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 452 Columns: 26
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(25): song_name, name_10, kpop_artist_name, all_artists, song_id, song_a... dbl
(1): ...1
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/artists.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 509 Columns: 8
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(4): name, id, genre, name_lower dbl (4): ...1, Unnamed: 0, top_kpop, followers
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>song_detail <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/song_detail.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 452 Columns: 20
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(11): album, artists, available_markets, external_ids, external_urls, h... dbl
(6): ...1, disc_number, duration_ms, popularity, track_number, release... lgl
(2): explicit, is_local date (1): release_date
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`</code></pre>
</div>
</div>
</section>
<section id="describe-clean-the-data" class="level1">
<h1>Describe &amp; Clean the data</h1>
<section id="collab_songs-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="collab_songs-dataframe"><code>collab_songs</code> dataframe</h3>
<p><code>collab_songs</code> is a dataframe where each observation is a collaboration songs by Kpop top artists and other artists.</p>
<p>It has 452 rows (collaboration songs) and 26 columns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'skimr' was built under R version 4.2.3</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Skim the data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(collab_songs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">collab_songs</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">452</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">26</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">song_name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">name_10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">426</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">kpop_artist_name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">all_artists</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">418</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">song_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">song_api_info</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">543</td>
<td style="text-align: right;">2229</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">419</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">all_artists_id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">190</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">419</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">all_artists_list</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">105</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">389</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">all_artists_id_list</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">189</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">391</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">339</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">342</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_2</td>
<td style="text-align: right;">271</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_2</td>
<td style="text-align: right;">271</td>
<td style="text-align: right;">0.40</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">110</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_3</td>
<td style="text-align: right;">389</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_3</td>
<td style="text-align: right;">389</td>
<td style="text-align: right;">0.14</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_4</td>
<td style="text-align: right;">442</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">19</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_4</td>
<td style="text-align: right;">442</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_5</td>
<td style="text-align: right;">445</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_5</td>
<td style="text-align: right;">445</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_6</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">9</td>
<td style="text-align: right;">12</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_6</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">artist_7</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">17</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artist_id_7</td>
<td style="text-align: right;">449</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">name_5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">386</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 16%">
<col style="width: 11%">
<col style="width: 16%">
<col style="width: 9%">
<col style="width: 9%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">…1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4342.56</td>
<td style="text-align: right;">2374.34</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2227.5</td>
<td style="text-align: right;">4300</td>
<td style="text-align: right;">6122.5</td>
<td style="text-align: right;">8390</td>
<td style="text-align: left;">▃▇▇▅▆</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(collab_songs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      ...1       song_name           name_10          kpop_artist_name  
 Min.   :   0   Length:452         Length:452         Length:452        
 1st Qu.:2228   Class :character   Class :character   Class :character  
 Median :4300   Mode  :character   Mode  :character   Mode  :character  
 Mean   :4343                                                           
 3rd Qu.:6122                                                           
 Max.   :8390                                                           
 all_artists          song_id          song_api_info       artist_id        
 Length:452         Length:452         Length:452         Length:452        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 all_artists_id     all_artists_list   all_artists_id_list   artist_1        
 Length:452         Length:452         Length:452          Length:452        
 Class :character   Class :character   Class :character    Class :character  
 Mode  :character   Mode  :character   Mode  :character    Mode  :character  
                                                                             
                                                                             
                                                                             
 artist_id_1          artist_2         artist_id_2          artist_3        
 Length:452         Length:452         Length:452         Length:452        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 artist_id_3          artist_4         artist_id_4          artist_5        
 Length:452         Length:452         Length:452         Length:452        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 artist_id_5          artist_6         artist_id_6          artist_7        
 Length:452         Length:452         Length:452         Length:452        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 artist_id_7           name_5         
 Length:452         Length:452        
 Class :character   Class :character  
 Mode  :character   Mode  :character  
                                      
                                      
                                      </code></pre>
</div>
</div>
<p>I removed unnecessary columns. Now <code>collab_songs</code> has following columns.</p>
<ul>
<li><p>song_name</p></li>
<li><p>song_id: this can be used as a key when joining with <code>song_detail</code> dataframe</p></li>
<li><p>kpop_artist_name: This is a name of the Kpop top artists.</p></li>
<li><p>artist_id: This is a Spotify Artist ID of the Kpop top artists. This can be used as a key when joining with <code>artist</code> dataframe</p></li>
<li><p>artist_[i]: This is a name of the artists that collaborated with Kpop top artists or the Kpop top artists themselves, which means that it might duplicate with <code>kpop_artist_name</code> (i is a number from 1 to 7)</p></li>
<li><p>artist_id_[i]: This is a Spotify Artist ID of the artists that collaborated with Kpop top artists or the Kpop top artists themselves, which means that it might duplicate with <code>artist_id</code> (i is a number from 1 to 7). This can be used as a key when joining with <code>artists</code> dataframe.</p></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"song_name"</span>, <span class="st">"song_id"</span>, <span class="st">"kpop_artist_name"</span>, <span class="st">"artist_id"</span>, <span class="st">"artist_1"</span>, <span class="st">"artist_id_1"</span>, <span class="st">"artist_2"</span>, <span class="st">"artist_id_2"</span>, <span class="st">"artist_3"</span>, <span class="st">"artist_id_3"</span>, <span class="st">"artist_4"</span>, <span class="st">"artist_id_4"</span>, <span class="st">"artist_5"</span>, <span class="st">"artist_id_5"</span>, <span class="st">"artist_6"</span>, <span class="st">"artist_id_6"</span>, <span class="st">"artist_7"</span>, <span class="st">"artist_id_7"</span>))</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>collab_songs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 452 × 18
   song_name     song_id kpop_…¹ artis…² artis…³ artis…⁴ artis…⁵ artis…⁶ artis…⁷
   &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
 1 Expectations  3szFx3… (G)I-D… 2AfmfG… Anne-M… 1zNqDE… MINNIE  2pHkxV… (G)I-D…
 2 Nxde (Steve … 6HXVUm… (G)I-D… 2AfmfG… Steve … 77AiFE… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 3 TOMBOY (R3HA… 4y2Ssh… (G)I-D… 2AfmfG… R3HAB   6cEuCE… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 4 HWAA - Dimit… 6sUnwJ… (G)I-D… 2AfmfG… Dimitr… 73jByn… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 5 MORE          6juLad… (G)I-D… 2AfmfG… K/DA    4gOc8T… Madiso… 2kRfqP… (G)I-D…
 6 THE BADDEST   2V4Fx7… (G)I-D… 2AfmfG… K/DA    4gOc8T… (G)I-D… 2AfmfG… Wolfty…
 7 POP/STARS     5sbooP… (G)I-D… 2AfmfG… K/DA    4gOc8T… Madiso… 2kRfqP… (G)I-D…
 8 Automotivo E… 3hGyEi… 2am     5SnaL8… The Ch… 4zaS9m… Siilva  1Ju0ls… 2am    
 9 SCREAM - m-f… 31XceD… 2NE1    1l0mKo… m-flo   4UhiMI… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
10 Lollipop      2eDGx6… 2NE1    1l0mKo… BIGBANG 4Kxlr1… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
# … with 442 more rows, 9 more variables: artist_id_3 &lt;chr&gt;, artist_4 &lt;chr&gt;,
#   artist_id_4 &lt;chr&gt;, artist_5 &lt;chr&gt;, artist_id_5 &lt;chr&gt;, artist_6 &lt;chr&gt;,
#   artist_id_6 &lt;chr&gt;, artist_7 &lt;chr&gt;, artist_id_7 &lt;chr&gt;, and abbreviated
#   variable names ¹​kpop_artist_name, ²​artist_id, ³​artist_1, ⁴​artist_id_1,
#   ⁵​artist_2, ⁶​artist_id_2, ⁷​artist_3</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(song_name, kpop_artist_name, artist_1, artist_2) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"song_name"</span>, <span class="st">"kpop_artist_name"</span>, <span class="st">"artist_1"</span>, <span class="st">"artist_2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 452 × 4
   song_name                                             kpop_…¹ artis…² artis…³
   &lt;chr&gt;                                                 &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
 1 #GirlsSpkOut                                          TAEYEON CHANMI… &lt;NA&gt;   
 2 0X1=LOVESONG (I Know I Love You) - Japanese Ver.      TOMORR… Lilas … &lt;NA&gt;   
 3 0X1=LOVESONG (I Know I Love You) feat. MOD SUN        TOMORR… MOD SUN &lt;NA&gt;   
 4 1, 2                                                  LeeHi   최현석  &lt;NA&gt;   
 5 1, 2, 3                                               BTOB    SEO EU… LEE CH…
 6 2 Baddies - Biicla Remix                              NCT 127 Biicla  &lt;NA&gt;   
 7 2 Baddies - No Identity Remix                         NCT 127 No Ide… &lt;NA&gt;   
 8 2 Baddies - Viann Remix                               NCT 127 Viann   &lt;NA&gt;   
 9 4 Times                                               CHANGMO YUMDDA  CHANGMO
10 A Brand New Day (BTS World Original Soundtrack) [Pt.… BTS     Zara L… &lt;NA&gt;   
# … with 442 more rows, and abbreviated variable names ¹​kpop_artist_name,
#   ²​artist_1, ³​artist_2</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(artist_1 <span class="sc">==</span> <span class="st">"Blackpink"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 18
  song_name      song_id kpop_…¹ artis…² artis…³ artis…⁴ artis…⁵ artis…⁶ artis…⁷
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
1 Notemoni (Bec… 0m94mI… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
2 Stay BP        4DWr1E… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
3 Prism (Hurt U… 2MqPG8… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
# … with 9 more variables: artist_id_3 &lt;chr&gt;, artist_4 &lt;chr&gt;,
#   artist_id_4 &lt;chr&gt;, artist_5 &lt;chr&gt;, artist_id_5 &lt;chr&gt;, artist_6 &lt;chr&gt;,
#   artist_id_6 &lt;chr&gt;, artist_7 &lt;chr&gt;, artist_id_7 &lt;chr&gt;, and abbreviated
#   variable names ¹​kpop_artist_name, ²​artist_id, ³​artist_1, ⁴​artist_id_1,
#   ⁵​artist_2, ⁶​artist_id_2, ⁷​artist_3</code></pre>
</div>
</div>
</section>
<section id="artists-artist.csv" class="level3">
<h3 class="anchored" data-anchor-id="artists-artist.csv">Artists (artist.csv)</h3>
<p><code>artists</code> is a dataframe where each row represents an artist (individual/group) that have participated in Kpop collaboration songs by top Kpop artists.</p>
<ol type="1">
<li><p>id: This is a Spotify Artist ID of the artist. It can be used as a key when joining with <code>collab_songs</code> dataframe</p></li>
<li><p>name: the name of the artist</p></li>
<li><p>top_kpop: if the artist is one of the top 50 Kpop artists in 2010, 2015, or 2020, the value is 1. Otherwise, the value is 0.</p></li>
<li><p>genre: the genre of the artist (can be multiple)</p></li>
<li><p>followers: the number of the followers on Spotify</p></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(artists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">artists</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">509</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">4</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 19%">
<col style="width: 13%">
<col style="width: 19%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 12%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">509</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">509</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">genre</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">152</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">name_lower</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">509</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 14%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 10%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">…1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">257.86</td>
<td style="text-align: right;">148.77</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">258</td>
<td style="text-align: right;">386</td>
<td style="text-align: right;">516</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">Unnamed: 0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">556.40</td>
<td style="text-align: right;">335.10</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">257</td>
<td style="text-align: right;">559</td>
<td style="text-align: right;">839</td>
<td style="text-align: right;">1168</td>
<td style="text-align: left;">▇▆▆▇▆</td>
</tr>
<tr class="odd">
<td style="text-align: left;">top_kpop</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.16</td>
<td style="text-align: right;">0.36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▇▁▁▁▂</td>
</tr>
<tr class="even">
<td style="text-align: left;">followers</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1751729.65</td>
<td style="text-align: right;">7466285.35</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">815</td>
<td style="text-align: right;">39237</td>
<td style="text-align: right;">565467</td>
<td style="text-align: right;">110756302</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(artists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      ...1         Unnamed: 0         name                id           
 Min.   :  0.0   Min.   :   0.0   Length:509         Length:509        
 1st Qu.:130.0   1st Qu.: 257.0   Class :character   Class :character  
 Median :258.0   Median : 559.0   Mode  :character   Mode  :character  
 Mean   :257.9   Mean   : 556.4                                        
 3rd Qu.:386.0   3rd Qu.: 839.0                                        
 Max.   :516.0   Max.   :1168.0                                        
    top_kpop         genre             followers          name_lower       
 Min.   :0.0000   Length:509         Min.   :        0   Length:509        
 1st Qu.:0.0000   Class :character   1st Qu.:      815   Class :character  
 Median :0.0000   Mode  :character   Median :    39237   Mode  :character  
 Mean   :0.1552                      Mean   :  1751730                     
 3rd Qu.:0.0000                      3rd Qu.:   565467                     
 Max.   :1.0000                      Max.   :110756302                     </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>artists</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 509 × 8
    ...1 `Unnamed: 0` name         id              top_k…¹ genre follo…² name_…³
   &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1     0            0 (G)I-DLE     2AfmfGFbe0A0Ws…       1 ['k-… 5361467 (g)i-d…
 2   279          601 220 KID      4Euia7UzdRshy1…       0 ['da…   20493 220 kid
 3    14           30 2am          5SnaL8SsjGMHQN…       1 ['k-…  213314 2am    
 4    17           34 2NE1         1l0mKo96Jh9HVY…       1 ['da… 2362793 2ne1   
 5   144          289 365LIT       65LSFEqRhq074a…       0 ['ko…    5106 365lit 
 6    20           38 4Minute      6cdC1cwqh3eJAX…       1 ['k-… 1085425 4minute
 7    25           45 AB6IX        4y0wFJ5jmCUNRL…       1 ['k-…  535314 ab6ix  
 8    81          149 ABLE         0Y669kGV5Gru5R…       0 []      17326 able   
 9   402          870 aespa        6YVMFz59CuY7ng…       0 ['k-… 2934608 aespa  
10    32           62 After School 1loWI8jVk9btgJ…       1 ['k-…  335087 after …
# … with 499 more rows, and abbreviated variable names ¹​top_kpop, ²​followers,
#   ³​name_lower</code></pre>
</div>
</div>
<p><code>name</code> has 513 unique values and <code>id</code> has 517 unique values, which may mean that there are <code>name</code> values that are duplicated or missing id information.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>artists <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 509 × 8
    ...1 `Unnamed: 0` name         id              top_k…¹ genre follo…² name_…³
   &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;        &lt;chr&gt;             &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  
 1     0            0 (G)I-DLE     2AfmfGFbe0A0Ws…       1 ['k-… 5361467 (g)i-d…
 2   279          601 220 KID      4Euia7UzdRshy1…       0 ['da…   20493 220 kid
 3    14           30 2am          5SnaL8SsjGMHQN…       1 ['k-…  213314 2am    
 4    17           34 2NE1         1l0mKo96Jh9HVY…       1 ['da… 2362793 2ne1   
 5   144          289 365LIT       65LSFEqRhq074a…       0 ['ko…    5106 365lit 
 6    20           38 4Minute      6cdC1cwqh3eJAX…       1 ['k-… 1085425 4minute
 7    25           45 AB6IX        4y0wFJ5jmCUNRL…       1 ['k-…  535314 ab6ix  
 8    81          149 ABLE         0Y669kGV5Gru5R…       0 []      17326 able   
 9   402          870 aespa        6YVMFz59CuY7ng…       0 ['k-… 2934608 aespa  
10    32           62 After School 1loWI8jVk9btgJ…       1 ['k-…  335087 after …
# … with 499 more rows, and abbreviated variable names ¹​top_kpop, ²​followers,
#   ³​name_lower</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean data by removing unnecessary columns</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">'...1'</span>))</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">'Unnamed: 0'</span>))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(id, <span class="at">.before =</span> name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is the list of the genre names that appear in artist dataframe</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>artists <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genre) <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(genre, <span class="at">sep =</span> <span class="st">",</span><span class="sc">\\</span><span class="st">s*"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genre =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[|'|</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>, genre)) <span class="sc">%&gt;%</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 144 × 2
   genre                  n
   &lt;chr&gt;              &lt;int&gt;
 1 ""                   189
 2 "k-pop"              127
 3 "k-rap"               61
 4 "korean pop"          52
 5 "korean r&amp;b"          35
 6 "k-pop girl group"    34
 7 "pop"                 32
 8 "dance pop"           30
 9 "k-pop boy group"     29
10 "edm"                 19
# … with 134 more rows</code></pre>
</div>
</div>
<p>I want to add two new columns to the <code>artist</code> dataFrame. The first column would indicate the broader genre of each artist, such as K-pop, Latin-pop, or J-pop (Japanese pop), which would help us to better understand the overall geographical market. The second column would simply indicate whether each artist is K-pop or not.</p>
<p>First, I decided to classify the overall genre by detecting the follwoing word in the <code>genre</code> column</p>
<p><strong>K-pop:</strong> “korean”, “k-” (for example k-pop, k-rap). Also any artists whose column “to-=p-kpop” is 1 are considered as K-pop genre.</p>
<p><strong>Latin-pop:</strong> “latin”, “latino”, “chicano”</p>
<p><strong>J-pop (Japanese pop):</strong> “japanese”, “j-” (for example j-pop, j-rap, j-core), “visual-kei”</p>
<p><strong>C-pop (Chinese pop):</strong> “chinese”</p>
<p><strong>UK-pop:</strong> “uk” (uk-pop, uk-hiphop)</p>
<p><strong>US or Others:</strong> artists whose genre doesn’t include the above words but has any word</p>
<p><strong>Unknown:</strong> artists whose genre is empty</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region_category=</span><span class="fu">case_when</span>(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"k-pop|korean|k-rap"</span>, genre) <span class="sc">|</span> top_kpop <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"K-pop"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"latin|latino|chicano|bachata"</span>, genre) <span class="sc">~</span> <span class="st">"Latin-pop"</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"j-pop|j-rap|japanese|j-core|josei|visual-kei"</span>, genre) <span class="sc">~</span> <span class="st">"J-pop"</span>,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"chinese"</span>, genre) <span class="sc">~</span> <span class="st">"C-pop"</span>,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"uk-|uk "</span>, genre) <span class="sc">~</span> <span class="st">"UK-pop"</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[</span><span class="sc">\\</span><span class="st">]"</span>, genre) <span class="sc">~</span> <span class="st">"Unknown"</span>,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kpop =</span> <span class="fu">case_when</span>(</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"K-pop"</span> <span class="sc">~</span> <span class="st">"yes"</span>,</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"no"</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>artists</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 509 × 8
   id                     name       top_k…¹ genre follo…² name_…³ regio…⁴ kpop 
   &lt;chr&gt;                  &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;
 1 2AfmfGFbe0A0WsTYm0SDTx (G)I-DLE         1 ['k-… 5361467 (g)i-d… K-pop   yes  
 2 4Euia7UzdRshy1DJOSMTcs 220 KID          0 ['da…   20493 220 kid UK-pop  no   
 3 5SnaL8SsjGMHQNyqpa8Zos 2am              1 ['k-…  213314 2am     K-pop   yes  
 4 1l0mKo96Jh9HVYONcRl3Yp 2NE1             1 ['da… 2362793 2ne1    K-pop   yes  
 5 65LSFEqRhq074aUBF1zF2e 365LIT           0 ['ko…    5106 365lit  K-pop   yes  
 6 6cdC1cwqh3eJAXaxXJt2jv 4Minute          1 ['k-… 1085425 4minute K-pop   yes  
 7 4y0wFJ5jmCUNRLZfsw1I7g AB6IX            1 ['k-…  535314 ab6ix   K-pop   yes  
 8 0Y669kGV5Gru5RaumXTxtV ABLE             0 []      17326 able    Unknown no   
 9 6YVMFz59CuY7ngCxTxjpxE aespa            0 ['k-… 2934608 aespa   K-pop   yes  
10 1loWI8jVk9btgJXHgqHXPD After Sch…       1 ['k-…  335087 after … K-pop   yes  
# … with 499 more rows, and abbreviated variable names ¹​top_kpop, ²​followers,
#   ³​name_lower, ⁴​region_category</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_kpop_top =</span> <span class="fu">case_when</span>(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>      top_kpop <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> name,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="song_detail-song_detail.csv" class="level3">
<h3 class="anchored" data-anchor-id="song_detail-song_detail.csv">song_detail (song_detail.csv)</h3>
<p><code>song_detail</code> is a dataframe where each observation is a collaboration song by K-pop top artists and other artists. While <code>collab_songs</code> provides the information of the artists that worked on the song, this dataframe provides more detailed information about the songs themselves such as duration, track number, release date etc…</p>
<p>It has 452 rows (collaboration songs), which is the same as the number of the rows of <code>collab_songs</code>, and 20 columns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(song_detail)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">song_detail</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">452</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">20</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">11</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Date</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">logical</td>
<td style="text-align: left;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">album</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1041</td>
<td style="text-align: right;">2754</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">337</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">artists</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">543</td>
<td style="text-align: right;">2229</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">419</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">available_markets</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">1104</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">external_ids</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">24</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">external_urls</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">68</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">href</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">56</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">id</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">22</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">name</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">79</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">447</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">preview_url</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">415</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">type</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">uri</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">36</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">452</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: Date</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 17%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 11%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">min</th>
<th style="text-align: left;">max</th>
<th style="text-align: left;">median</th>
<th style="text-align: right;">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">release_date</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">2005-12-05</td>
<td style="text-align: left;">2023-03-17</td>
<td style="text-align: left;">2017-08-26</td>
<td style="text-align: right;">317</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: logical</strong></p>
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: left;">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">explicit</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: left;">FAL: 424, TRU: 28</td>
</tr>
<tr class="even">
<td style="text-align: left;">is_local</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">FAL: 452</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 9%">
<col style="width: 6%">
<col style="width: 5%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">…1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">225.50</td>
<td style="text-align: right;">130.63</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">112.75</td>
<td style="text-align: right;">225.5</td>
<td style="text-align: right;">338.25</td>
<td style="text-align: right;">451</td>
<td style="text-align: left;">▇▇▇▇▇</td>
</tr>
<tr class="even">
<td style="text-align: left;">disc_number</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">duration_ms</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">215094.02</td>
<td style="text-align: right;">39306.63</td>
<td style="text-align: right;">5889</td>
<td style="text-align: right;">195108.00</td>
<td style="text-align: right;">213231.0</td>
<td style="text-align: right;">234115.00</td>
<td style="text-align: right;">441184</td>
<td style="text-align: left;">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">popularity</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">25.09</td>
<td style="text-align: right;">18.64</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">9.00</td>
<td style="text-align: right;">24.0</td>
<td style="text-align: right;">37.00</td>
<td style="text-align: right;">86</td>
<td style="text-align: left;">▇▇▃▂▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">track_number</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.23</td>
<td style="text-align: right;">1.70</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.0</td>
<td style="text-align: right;">3.00</td>
<td style="text-align: right;">9</td>
<td style="text-align: left;">▇▂▁▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">release_year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2016.56</td>
<td style="text-align: right;">4.19</td>
<td style="text-align: right;">2005</td>
<td style="text-align: right;">2014.00</td>
<td style="text-align: right;">2017.0</td>
<td style="text-align: right;">2020.00</td>
<td style="text-align: right;">2023</td>
<td style="text-align: left;">▁▃▅▇▇</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(song_detail)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      ...1          album             artists          available_markets 
 Min.   :  0.0   Length:452         Length:452         Length:452        
 1st Qu.:112.8   Class :character   Class :character   Class :character  
 Median :225.5   Mode  :character   Mode  :character   Mode  :character  
 Mean   :225.5                                                           
 3rd Qu.:338.2                                                           
 Max.   :451.0                                                           
  disc_number  duration_ms      explicit       external_ids      
 Min.   :1    Min.   :  5889   Mode :logical   Length:452        
 1st Qu.:1    1st Qu.:195108   FALSE:424       Class :character  
 Median :1    Median :213231   TRUE :28        Mode  :character  
 Mean   :1    Mean   :215094                                     
 3rd Qu.:1    3rd Qu.:234115                                     
 Max.   :1    Max.   :441184                                     
 external_urls          href                id             is_local      
 Length:452         Length:452         Length:452         Mode :logical  
 Class :character   Class :character   Class :character   FALSE:452      
 Mode  :character   Mode  :character   Mode  :character                  
                                                                         
                                                                         
                                                                         
     name             popularity    preview_url         track_number  
 Length:452         Min.   : 0.00   Length:452         Min.   :1.000  
 Class :character   1st Qu.: 9.00   Class :character   1st Qu.:1.000  
 Mode  :character   Median :24.00   Mode  :character   Median :1.000  
                    Mean   :25.09                      Mean   :2.235  
                    3rd Qu.:37.00                      3rd Qu.:3.000  
                    Max.   :86.00                      Max.   :9.000  
     type               uri             release_date         release_year 
 Length:452         Length:452         Min.   :2005-12-05   Min.   :2005  
 Class :character   Class :character   1st Qu.:2014-06-20   1st Qu.:2014  
 Mode  :character   Mode  :character   Median :2017-08-26   Median :2017  
                                       Mean   :2017-02-11   Mean   :2017  
                                       3rd Qu.:2020-07-13   3rd Qu.:2020  
                                       Max.   :2023-03-17   Max.   :2023  </code></pre>
</div>
</div>
<p>The columns are as follows</p>
<ol type="1">
<li>name: name of the songs</li>
<li>popularity: the popularity index from Spotify</li>
<li>release_year</li>
<li>album: this is information about the album the song is from in Json format.</li>
<li>artists: this is information about the artists in Json format</li>
<li>available_markets</li>
<li>explicit</li>
<li>id: This is a Spotify song id. Can be used as a key when joining with <code>collab_songs</code></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># I will remove unnecessary columns</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>song_detail <span class="ot">&lt;-</span> song_detail <span class="sc">%&gt;%</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(name,popularity, release_date, release_year, <span class="at">.before=</span><span class="st">"album"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"...1"</span>, <span class="st">"disc_number"</span>, <span class="st">"duration_ms"</span>, <span class="st">"external_ids"</span>, <span class="st">"external_urls"</span>,<span class="st">"href"</span>, <span class="st">"is_local"</span>, <span class="st">"preview_url"</span>, <span class="st">"track_number"</span>, <span class="st">"type"</span>, <span class="st">"uri"</span>, <span class="st">"release_date"</span>))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>song_detail<span class="sc">$</span>release_year <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(song_detail<span class="sc">$</span>release_year)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>song_detail <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(release_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 452 × 8
   name                      popul…¹ relea…² album artists avail…³ expli…⁴ id   
   &lt;chr&gt;                       &lt;dbl&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;lgl&gt;   &lt;chr&gt;
 1 Show Me Your Love              28    2005 {'al… [{'ext… ['AR',… FALSE   2z3h…
 2 I Wanna Hold You               14    2005 {'al… [{'ext… ['AR',… FALSE   2A7W…
 3 I'm Your Man                   17    2005 {'al… [{'ext… ['AR',… FALSE   2MYG…
 4 Forever With U (Feat. Pa…      37    2006 {'al… [{'ext… ['AR',… FALSE   7czV…
 5 HOLD THE LINE (Feat. 조P…      12    2006 {'al… [{'ext… ['AR',… FALSE   5KgZ…
 6 오늘은 그대와 하늘위로 (…       1    2006 {'al… [{'ext… ['AR',… FALSE   4Yyt…
 7 FAR AWAY (Feat. MC몽)           3    2006 {'al… [{'ext… ['AR',… FALSE   6HvV…
 8 Anystar                        18    2006 {'al… [{'ext… ['AR',… FALSE   3gJz…
 9 오아시스 (feat. 이재훈)         6    2007 {'al… [{'ext… ['AR',… FALSE   56iR…
10 Love Action (feat.Jo-PD)        8    2008 {'al… [{'ext… ['AR',… FALSE   2IgM…
# … with 442 more rows, and abbreviated variable names ¹​popularity,
#   ²​release_year, ³​available_markets, ⁴​explicit</code></pre>
</div>
</div>
</section>
<section id="extra-data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="extra-data-cleaning">Extra data cleaning</h2>
<p><code>collab_songs</code> include unofficial songs by unofficial accounts. For example, there are a few songs by After School and Blackpink. However, if you look at the Spotify album page, this “Blackpink” is different from “BLACK PINK”. There seem to be several cases that the artist ID is not the correct one. So I removed the songs that are not by “official” (=with more monthly followers) accounts.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co">#For example, there are a few songs by After School and Blackpink. However, if you look at the Spotify album page, this "Blackpink" is different from "BLACK PINK". </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(artist_1 <span class="sc">==</span> <span class="st">"Blackpink"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 18
  song_name      song_id kpop_…¹ artis…² artis…³ artis…⁴ artis…⁵ artis…⁶ artis…⁷
  &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
1 Notemoni (Bec… 0m94mI… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
2 Stay BP        4DWr1E… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
3 Prism (Hurt U… 2MqPG8… After … 1loWI8… Blackp… 1Gf3Sz… Tara    24JAAn… &lt;NA&gt;   
# … with 9 more variables: artist_id_3 &lt;chr&gt;, artist_4 &lt;chr&gt;,
#   artist_id_4 &lt;chr&gt;, artist_5 &lt;chr&gt;, artist_id_5 &lt;chr&gt;, artist_6 &lt;chr&gt;,
#   artist_id_6 &lt;chr&gt;, artist_7 &lt;chr&gt;, artist_id_7 &lt;chr&gt;, and abbreviated
#   variable names ¹​kpop_artist_name, ²​artist_id, ³​artist_1, ⁴​artist_id_1,
#   ⁵​artist_2, ⁶​artist_id_2, ⁷​artist_3</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_1 whose id doesn't exist</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_1"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_2 whose id doesn't exist </span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_2"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_2)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_3 whose id doesn't exist </span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_3"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_3)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_4 whose id doesn't exist </span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_4"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_4)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_5 whose id doesn't exist </span></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_5"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_5)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_6 whose id doesn't exist </span></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_6"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_6)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_7 whose id doesn't exist </span></span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_7"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_7)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>collab_songs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 441 × 25
   song_name     song_id kpop_…¹ artis…² artis…³ artis…⁴ artis…⁵ artis…⁶ artis…⁷
   &lt;chr&gt;         &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
 1 Expectations  3szFx3… (G)I-D… 2AfmfG… Anne-M… 1zNqDE… MINNIE  2pHkxV… (G)I-D…
 2 Nxde (Steve … 6HXVUm… (G)I-D… 2AfmfG… Steve … 77AiFE… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 3 TOMBOY (R3HA… 4y2Ssh… (G)I-D… 2AfmfG… R3HAB   6cEuCE… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 4 HWAA - Dimit… 6sUnwJ… (G)I-D… 2AfmfG… Dimitr… 73jByn… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
 5 MORE          6juLad… (G)I-D… 2AfmfG… K/DA    4gOc8T… Madiso… 2kRfqP… (G)I-D…
 6 THE BADDEST   2V4Fx7… (G)I-D… 2AfmfG… K/DA    4gOc8T… (G)I-D… 2AfmfG… Wolfty…
 7 POP/STARS     5sbooP… (G)I-D… 2AfmfG… K/DA    4gOc8T… Madiso… 2kRfqP… (G)I-D…
 8 Automotivo E… 3hGyEi… 2am     5SnaL8… The Ch… 4zaS9m… Siilva  1Ju0ls… 2am    
 9 SCREAM - m-f… 31XceD… 2NE1    1l0mKo… m-flo   4UhiMI… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
10 Lollipop      2eDGx6… 2NE1    1l0mKo… BIGBANG 4Kxlr1… &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   
# … with 431 more rows, 16 more variables: artist_id_3 &lt;chr&gt;, artist_4 &lt;chr&gt;,
#   artist_id_4 &lt;chr&gt;, artist_5 &lt;chr&gt;, artist_id_5 &lt;chr&gt;, artist_6 &lt;chr&gt;,
#   artist_id_6 &lt;chr&gt;, artist_7 &lt;chr&gt;, artist_id_7 &lt;chr&gt;,
#   show_kpop_top.x &lt;chr&gt;, show_kpop_top.y &lt;chr&gt;, show_kpop_top.x.x &lt;chr&gt;,
#   show_kpop_top.y.y &lt;chr&gt;, show_kpop_top.x.x.x &lt;chr&gt;,
#   show_kpop_top.y.y.y &lt;chr&gt;, show_kpop_top &lt;chr&gt;, and abbreviated variable
#   names ¹​kpop_artist_name, ²​artist_id, ³​artist_1, ⁴​artist_id_1, ⁵​artist_2, …</code></pre>
</div>
</div>
<p>Now <code>collab_songs</code> has 441 songs (reduced from 452)</p>
</section>
</section>
<section id="exploring-the-data" class="level1">
<h1>Exploring the data</h1>
<section id="how-many-k-pop-collaboration-songs-are-released-by-year" class="level3">
<h3 class="anchored" data-anchor-id="how-many-k-pop-collaboration-songs-are-released-by-year">How many K-pop collaboration songs are released by year?</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(song_detail, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"song_id"</span><span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>release_year)) <span class="sc">+</span> </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">2010</span>, <span class="dv">2022</span>, <span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">2009</span>, <span class="dv">2023</span>) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"The number of K-pop collaboration songs"</span>, <span class="at">subtitle =</span> <span class="st">"The number of collaboration songs by K-pop top artists is increasing over the time"</span>, <span class="at">caption =</span> <span class="st">"Note that this data is based on the information of only top 50 k-pop artists during 2010-2020"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Scale for 'x' is already present. Adding another scale for 'x', which will
replace the existing scale.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 15 rows containing non-finite values (stat_count).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 2 rows containing missing values (geom_bar).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="is-the-popularity-of-k-pop-collaboration-songs-increasing" class="level3">
<h3 class="anchored" data-anchor-id="is-the-popularity-of-k-pop-collaboration-songs-increasing">Is the popularity of K-pop collaboration songs increasing?</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>song_detail <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(release_year) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_popularity =</span> <span class="fu">mean</span>(popularity)) <span class="sc">%&gt;%</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>release_year, <span class="at">y=</span>mean_popularity)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Popularity of K-pop collaboration songs"</span>, <span class="at">subtitle =</span> <span class="st">"The popularity of K-pop collaboration songs is increasing dramatically."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="convert-this-data-to-network-data" class="level1">
<h1>Convert this data to network data</h1>
<p>To analyze this data in a perspective of social network, I need to convert this data into an edgelist where from_nodes are K-pop top artists, to_nodes are artists who collaborated with them, and edges are songs.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># pivot_longer</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"artist_id_"</span>),</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"to_artist_id"</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span> </span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(to_artist_id)) <span class="sc">%&gt;%</span> <span class="co"># Remove the rows where the to_artist_id is blank </span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(artist_id <span class="sc">!=</span> to_artist_id) <span class="sc">%&gt;%</span>  <span class="co"># Remove the rows where from_artist and to_artist are the same </span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"artist_id"</span>, <span class="st">"to_artist_id"</span>, <span class="st">"song_id"</span>, <span class="st">"song_name"</span>))</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edgelist) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"From"</span>, <span class="st">"To"</span>, <span class="st">"song_id"</span>, <span class="st">"song_name"</span>)</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>edgelist</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 591 × 4
   From                   To                     song_id                song_n…¹
   &lt;chr&gt;                  &lt;chr&gt;                  &lt;chr&gt;                  &lt;chr&gt;   
 1 2AfmfGFbe0A0WsTYm0SDTx 1zNqDE7qDGCsyzJwohVaoX 3szFx3SyWFpRbehaPxpyqq Expecta…
 2 2AfmfGFbe0A0WsTYm0SDTx 2pHkxVNynHBwQHhGaoBIXX 3szFx3SyWFpRbehaPxpyqq Expecta…
 3 2AfmfGFbe0A0WsTYm0SDTx 77AiFEVeAVj2ORpC85QVJs 6HXVUmiqWSg3OW6yr5mJCJ Nxde (S…
 4 2AfmfGFbe0A0WsTYm0SDTx 6cEuCEZu7PAE9ZSzLLc2oQ 4y2SshixeFlqPprLmoZtJe TOMBOY …
 5 2AfmfGFbe0A0WsTYm0SDTx 73jBynjsVtofjRpdpRAJGk 6sUnwJgPUTHKBKnsKZr9PC HWAA - …
 6 2AfmfGFbe0A0WsTYm0SDTx 4gOc8TsQed9eqnqJct2c5v 6juLaduD4STCUDWT0AYun4 MORE    
 7 2AfmfGFbe0A0WsTYm0SDTx 2kRfqPViCqYdSGhYSM9R0Q 6juLaduD4STCUDWT0AYun4 MORE    
 8 2AfmfGFbe0A0WsTYm0SDTx 6fs2or0cKLEM2xohWq8SoX 6juLaduD4STCUDWT0AYun4 MORE    
 9 2AfmfGFbe0A0WsTYm0SDTx 0tRFWXqKBBQcu5oFVOgVzX 6juLaduD4STCUDWT0AYun4 MORE    
10 2AfmfGFbe0A0WsTYm0SDTx 4TqlcgMFDryY96KWcvrhTv 6juLaduD4STCUDWT0AYun4 MORE    
# … with 581 more rows, and abbreviated variable name ¹​song_name</code></pre>
</div>
</div>
<section id="edgelist-without-spliting" class="level2">
<h2 class="anchored" data-anchor-id="edgelist-without-spliting">Edgelist (without spliting)</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>collab.net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_data_frame</span>(edgelist, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting the attributes</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # For visualization</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ## color</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_region_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"K-pop"</span> <span class="sc">~</span> <span class="st">"#FFFFE1"</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"Latin-pop"</span> <span class="sc">~</span> <span class="st">"#99860C"</span>,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"J-pop"</span> <span class="sc">~</span> <span class="st">"#FDCCCC"</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"C-pop"</span> <span class="sc">~</span> <span class="st">"#920002"</span>,</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"UK-pop"</span> <span class="sc">~</span> <span class="st">"#ABD7E6"</span>,</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"Other"</span> <span class="sc">~</span> <span class="st">"#010087"</span>,</span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"darkgrey"</span> ),</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_kpop =</span> <span class="fu">case_when</span>(</span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    kpop <span class="sc">==</span> <span class="st">"yes"</span> <span class="sc">~</span> <span class="st">"#FFFFE1"</span>,</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"#010087"</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(collab.net)<span class="sc">$</span>color <span class="ot">&lt;-</span> artists<span class="sc">$</span>color_region_category</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a><span class="co"># V(collab.net)$name_kpop_top &lt;- artists$show_name_kpop_top</span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a><span class="co"># V(collab.net)$name_followers &lt;- artists$show_name_followers</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check attributes</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(collab.net) <span class="co">#509 nodes and 591 edges</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>IGRAPH f164b92 UN-- 509 591 -- 
+ attr: name (v/c), top_kpop (v/n), genre (v/c), followers (v/n),
| name_lower (v/c), region_category (v/c), kpop (v/c), show_kpop_top
| (v/c), color (v/c), song_id (e/c), song_name (e/c)</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">vertex_attr_names</span>(collab.net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"            "top_kpop"        "genre"           "followers"      
[5] "name_lower"      "region_category" "kpop"            "show_kpop_top"  
[9] "color"          </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">edge_attr_names</span>(collab.net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "song_id"   "song_name"</code></pre>
</div>
</div>
</section>
</section>
<section id="overview-of-k-pop-collaboration-network" class="level1">
<h1>Overview of K-pop collaboration network</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(collab.net, </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>show_kpop_top,</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">arrow.mode=</span><span class="st">"-"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">log</span>(<span class="fu">V</span>(collab.net)<span class="sc">$</span>followers) <span class="sc">*</span> <span class="fl">0.5</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">8</span>,</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">frame.width =</span> <span class="dv">0</span>,</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">color =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>color_region_category,</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"K pop collaboration network for the last 18 years"</span>,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">ref =</span> <span class="st">"The size of the circles means the popularity"</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bottomright"</span>,</span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"K-pop"</span>, <span class="st">"Latin-pop"</span>, <span class="st">"J-pop"</span>, <span class="st">"C-pop"</span>, <span class="st">"UK-pop"</span>, <span class="st">"US or Other"</span>, <span class="st">"Unknown"</span>),</span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">pt.bg  =</span> <span class="fu">c</span>(<span class="st">"#FFFFE1"</span>, <span class="st">"#99860C"</span>, <span class="st">"#FDCCCC"</span>, <span class="st">"#920002"</span>, <span class="st">"#ABD7E6"</span>, <span class="st">"#010087"</span>, <span class="st">"darkgrey"</span>),</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch    =</span> <span class="dv">21</span>,</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex    =</span> <span class="dv">1</span>,</span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty    =</span> <span class="st">"n"</span>,</span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">title  =</span> <span class="st">"Genre"</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="overview-how-the-collaboration-patterns-have-changed-over-time" class="level1">
<h1>Overview: How the collaboration patterns have changed over time?</h1>
<ol type="1">
<li><p>Between 2006 and 2010, the number of collaboration songs among K-pop artists was limited, with few international collaborations with artists outside of South Korea. Additionally, the network was sparse and disconnected.</p></li>
<li><p>From 2011 to 2015, the number of collaboration songs slightly increased, with more international collaborations and a more connected network.</p></li>
<li><p>Between 2016 and 2020, K-pop experienced significant growth in terms of the number and types of collaborations. Notably, BTS, G(I)DLE, and Blackpink have a large number of international collaboration songs.</p></li>
<li><p>In 2021, the number of collaboration songs is not as large as that of 2016-2020 due to the shorter time span, but the proportion of international collaborations appears to be higher.</p></li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> edgelist <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(song_detail, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"song_id"</span><span class="ot">=</span><span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">case_when</span>(</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&lt;=</span> <span class="dv">2010</span> <span class="sc">~</span> <span class="st">"2005-2010"</span>,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&gt;</span> <span class="dv">2010</span> <span class="sc">&amp;</span> release_year <span class="sc">&lt;=</span> <span class="dv">2015</span> <span class="sc">~</span> <span class="st">"2011-2015"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&gt;</span> <span class="dv">2015</span> <span class="sc">&amp;</span> release_year <span class="sc">&lt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"2016-2020"</span>,</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"2021-"</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"From"</span>, <span class="st">"To"</span>, <span class="st">"song_id"</span>, <span class="st">"release_year"</span>, <span class="st">"period"</span>, <span class="st">"name"</span>, <span class="st">"popularity"</span>))</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="co">#E(collab.net)$period &lt;- edgelist$period</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the edgelist dataframe into 4 groups based on "period"</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>edgelist_list <span class="ot">&lt;-</span> <span class="fu">split</span>(edgelist, edgelist<span class="sc">$</span>period)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="co"># convert each element of the list into a separate dataframe</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>graphs <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(edgelist_list)) {</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"edgelist_"</span>, <span class="fu">names</span>(edgelist_list)[i]), edgelist_list[[i]])</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>  unique_vertices <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(edgelist_list[[i]]<span class="sc">$</span>From, edgelist_list[[i]]<span class="sc">$</span>To))</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>  artists_period <span class="ot">&lt;-</span> artists[artists<span class="sc">$</span>id <span class="sc">%in%</span> unique_vertices, ]</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the graph from the filtered edgelist and vertices</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(edgelist_list[[i]], <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists_period)</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Append the graph to the list of graphs</span></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>  graphs[[i]] <span class="ot">&lt;-</span> graph</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>} </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigining visualization attributes</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>periods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2006-2010"</span>, <span class="st">"2011-2015"</span>, <span class="st">"2016-2020"</span>, <span class="st">"2021-"</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(graphs)) {</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color_region_category</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(graphs[[i]], </span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>show_kpop_top,</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">arrow.mode=</span><span class="st">"-"</span>,</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">log</span>(<span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>followers) <span class="sc">*</span> <span class="fl">0.7</span>,</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">8</span>,</span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb75-13"><a href="#cb75-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb75-14"><a href="#cb75-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">frame.width =</span> <span class="dv">0</span>,</span>
<span id="cb75-15"><a href="#cb75-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">color =</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color_region_category,</span>
<span id="cb75-16"><a href="#cb75-16" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"Collaboration by K-pop top artists"</span>, periods[[i]])</span>
<span id="cb75-17"><a href="#cb75-17" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb75-18"><a href="#cb75-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb75-19"><a href="#cb75-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(</span>
<span id="cb75-20"><a href="#cb75-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bottomright"</span>,</span>
<span id="cb75-21"><a href="#cb75-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"K-pop"</span>, <span class="st">"Latin-pop"</span>, <span class="st">"J-pop"</span>, <span class="st">"C-pop"</span>, <span class="st">"UK-pop"</span>, <span class="st">"US or Other"</span>, <span class="st">"Unknown"</span>),</span>
<span id="cb75-22"><a href="#cb75-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">pt.bg  =</span> <span class="fu">c</span>(<span class="st">"#FFFFE1"</span>, <span class="st">"#99860C"</span>, <span class="st">"#FDCCCC"</span>, <span class="st">"#920002"</span>, <span class="st">"#ABD7E6"</span>, <span class="st">"#010087"</span>, <span class="st">"darkgrey"</span>),</span>
<span id="cb75-23"><a href="#cb75-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch    =</span> <span class="dv">21</span>,</span>
<span id="cb75-24"><a href="#cb75-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex    =</span> <span class="dv">1</span>,</span>
<span id="cb75-25"><a href="#cb75-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty    =</span> <span class="st">"n"</span>,</span>
<span id="cb75-26"><a href="#cb75-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">title  =</span> <span class="st">"Genre"</span></span>
<span id="cb75-27"><a href="#cb75-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb75-28"><a href="#cb75-28" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-26-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-26-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="closer-look-how-does-the-network-change-every-year" class="level1">
<h1>Closer look: How does the network change every year?</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a graph for each year</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>graph_from_data_frame_with_all_vertices <span class="ot">&lt;-</span> <span class="cf">function</span>(df, vertices) {</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with all possible edges between vertices</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  unique_vertices <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(df<span class="sc">$</span>From, df<span class="sc">$</span>To))</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  artists_period <span class="ot">&lt;-</span> artists[artists<span class="sc">$</span>id <span class="sc">%in%</span> unique_vertices, ]</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the graph with all vertices and existing edges</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(df, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists_period)</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(graph)</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>graphs_year <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>, <span class="cf">function</span>(x) <span class="fu">graph_from_data_frame_with_all_vertices</span>(<span class="at">df =</span> edgelist[edgelist<span class="sc">$</span>release_year <span class="sc">==</span> x, ], <span class="at">vertices =</span> artists))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a dataframe of graph statistics</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the data frame</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>graph_stats <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">release_year =</span> <span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>, </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">num_nodes =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">num_edges =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>                           <span class="at">centralization =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>                           <span class="at">density =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>                           <span class="at">transitivity =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>))</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>                           </span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>                           )</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each year and calculate the desired graph statistics</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(graphs_year)) {</span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> graphs_year[[i]]</span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fill in the corresponding row of the data frame with the calculated statistics</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"num_nodes"</span>] <span class="ot">&lt;-</span> <span class="fu">vcount</span>(graph)</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"num_edges"</span>] <span class="ot">&lt;-</span> <span class="fu">ecount</span>(graph)</span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"centralization"</span>] <span class="ot">&lt;-</span> <span class="fu">centr_degree</span>(graph)<span class="sc">$</span>centralization</span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"density"</span>] <span class="ot">&lt;-</span> <span class="fu">graph.density</span>(graph)</span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"transitivity"</span>] <span class="ot">&lt;-</span> <span class="fu">transitivity</span>(graph)</span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting data frame</span></span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(graph_stats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   release_year num_nodes num_edges centralization    density transitivity
1          2006         7         4     0.14285714 0.19047619            0
2          2007         2         1     0.00000000 1.00000000          NaN
3          2008        15        10     0.11904762 0.09523810            0
4          2009        24        22     0.09420290 0.07971014            0
5          2010        31        23     0.15053763 0.04946237            0
6          2011        36        28     0.21269841 0.04444444            0
7          2012        26        19     0.10153846 0.05846154            0
8          2013        33        23     0.08143939 0.04356061            0
9          2014        45        29     0.06161616 0.02929293            0
10         2015        67        61     0.29059249 0.02758933            0
11         2016        49        38     0.15518707 0.03231293            0
12         2017        46        32     0.12463768 0.03091787            0
13         2018        53        47     0.10050798 0.03410740            0
14         2019        71        60     0.11871227 0.02414487            0
15         2020        93        80     0.16608228 0.01870033            0
16         2021        71        55     0.07786720 0.02213280            0
17         2022        56        41     0.08246753 0.02662338            0
18         2023        19        15     0.13450292 0.08771930            0</code></pre>
</div>
</div>
<section id="number-of-nodes-and-edges" class="level2">
<h2 class="anchored" data-anchor-id="number-of-nodes-and-edges">Number of nodes and edges</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> num_nodes), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill=</span><span class="st">"lightgrey"</span>) <span class="sc">+</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> num_edges, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"The number of nodes (grey) and edges (black line)"</span>) <span class="sc">+</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Ignoring unknown aesthetics: fill</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_bar(aes(y = density, stat = "identity", fill="lightgrey")) +</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> centralization, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Centralization"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"Change in Centralization of K-pop collaboration network"</span>) <span class="sc">+</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Ignoring unknown aesthetics: fill</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_bar(aes(y = density, stat = "identity", fill="lightgrey")) +</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> density, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Density"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"Change in density of Kpop collaboration network"</span>) <span class="sc">+</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Ignoring unknown aesthetics: fill</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Assignment_Kpop_network_Erika_Nagai_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="artist-based-analysis-who-is-the-center-of-k-pop-network" class="level1">
<h1>Artist-based analysis: Who is the center of K-pop network?</h1>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">vertex_attr_names</span>(collab.net)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "name"            "top_kpop"        "genre"           "followers"      
[5] "name_lower"      "region_category" "kpop"            "show_kpop_top"  
[9] "color"          </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a node stat dataframe</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>nodes_stat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">genre =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>genre,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">followers =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>followers,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">region_category =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>region_category,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">kpop =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>kpop,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">degree =</span> <span class="fu">degree</span>(collab.net)</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>                           )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Here are the artists that have had most degree (≒ collaboration songs).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>nodes_stat <span class="sc">%&gt;%</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(kpop <span class="sc">==</span> <span class="st">"yes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(degree)) <span class="sc">%&gt;%</span></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(degree)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                    degree
CHANGMO                 44
ZICO                    40
BTS                     29
BTOB                    22
Gummy                   22
(G)I-DLE                19
DAVICHI                 19
KANGDANIEL              18
IU                      17
Kim Na Young            17
Untouchable             17
Jessi                   15
OH MY GIRL              15
MONSTA X                13
T-ARA                   13
NCT 127                 12
December                11
Red Velvet              10
TAEYEON                 10
After School             9
LeeHi                    9
Paul Blanco              9
SISTAR                   9
AKMU                     8
Hwa Sa                   8
J.Y. Park                8
Park Bom                 8
SEO IN YOUNG             8
B.A.P                    7
Block B                  7
KIM JAE HWAN             7
Spica                    7
AB6IX                    6
Beast                    6
BIGBANG                  6
Brown Eyed Girls         6
Lee Seung Gi             6
SUPER JUNIOR             6
TOMORROW X TOGETHER      6
ATEEZ                    5
B1A4                     5
Girls' Generation        5
ITZY                     5
Loco                     5
MINO                     5
SHINee                   5
TAEMIN                   5
Wonder Girls             5
YUMDDA                   5
4Minute                  4
Dok2                     4
f(x)                     4
KARA                     4
Lee Hyori                4
PENOMECO                 4
Stray Kids               4
The Quiett               4
WINNER                   4
Zion.T                   4
AOA                      3
BLACKPINK                3
Crush                    3
Dalshabet                3
Gaeko                    3
HYOLYN                   3
K/DA                     3
KARD                     3
Keem Hyo-Eun             3
KIM HOJOONG              3
Mad Clown                3
MC MONG                  3
NU'EST                   3
Paloalto                 3
SUGA                     3
SUPERBEE                 3
TVXQ!                    3
TWICE                    3
Verbal Jint              3
2am                      2
2NE1                     2
Apink                    2
Babylon                  2
Beenzino                 2
BIBI                     2
BOYFRIEND                2
Crayon Pop               2
Don Mills                2
F.CUZ                    2
FTISLAND                 2
G.NA                     2
GIRIBOY                  2
Hash Swan                2
ILLSON                   2
IZ*ONE                   2
Jay Park                 2
JUNG ILHOON              2
Jung Kook                2
K.Will                   2
Kang Seungwon            2
KOONTA                   2
LAY                      2
LEE CHANGSUB             2
LEE MINHYUK (HUTA)       2
Lim Hyunsik              2
Mighty Mouth             2
miss A                   2
ONEW                     2
ONF                      2
PARK WOO JIN             2
Rain                     2
RAINBOW                  2
Sandara Park             2
SEO EUNKWANG             2
Sik-K                    2
Son Dam Bi               2
Song Ji Eun              2
SUNMI                    2
VIXX                     2
Yoon Do Hyun             2
365LIT                   1
aespa                    1
ASH ISLAND               1
B-Free                   1
B.I                      1
Basick                   1
Bizniz                   1
BOBBY                    1
Bobby Kim                1
Boi B                    1
ChaMane                  1
Chancellor               1
CHEETAH                  1
Clon                     1
DEAN                     1
Demicat                  1
DINDIN                   1
DJ Wegun                 1
DPR LIVE                 1
Dynamicduo               1
EVERGLOW                 1
EXID                     1
FIESTAR                  1
G-DRAGON                 1
G2                       1
GD&amp;TOP                   1
Girl's Day               1
Golden Child             1
GOT7                     1
GSoul                    1
Hanhae                   1
HEIZE                    1
HELLOVENUS               1
HIGH4                    1
Hitchhiker               1
Huh Gak                  1
Hwanhee                  1
HYNN                     1
J-Cera                   1
Ja Mezz                  1
JAMIE                    1
Jessica                  1
JONGHYUN                 1
JooHyun Oak              1
Jun Hyo Seong            1
Junggigo                 1
JUNGKEY                  1
Jvcki Wai                1
KAI                      1
Kanto                    1
KCM                      1
Kim Jin Pyo              1
Kim Jong Kook            1
Kim MinSeok              1
Kim Yeon Woo             1
Kingston Rudieska        1
KYUHYUN                  1
Lee Jin Ah               1
Lee Sang Soon            1
Lee Seung Chul           1
Lee Sun Hee              1
lIlBOI                   1
Lovelyz                  1
MBLAQ                    1
MeloMance                1
Microdot                 1
Monday Kiz               1
myunDo                   1
nafla                    1
NARSHA                   1
northfacegawd            1
Nuol                     1
OHHYUK                   1
Omega Sapien             1
Onestar                  1
Orange Caramel           1
P-Type                   1
Park Hwayobi             1
pH-1                     1
Ra.D                     1
Raiden                   1
RM                       1
Rothy                    1
RYEOWOOK                 1
Sam Kim                  1
San E                    1
Secret                   1
SG Wannabe               1
Simon Dominic            1
Slom                     1
Sojeong                  1
SONG YUVIN               1
SOYOU                    1
Stella Jang              1
SUMIN                    1
Sung Si Kyung            1
SURAN                    1
Tablo                    1
TAEYANG                  1
TAEYONG                  1
TEEN TOP                 1
THE BOYZ                 1
The One                  1
Uneducated Kid           1
VICTON                   1
WENDY                    1
Whee In                  1
WOOGIE                   1
Yang Da Il               1
Yang Hee Eun             1
Yang Yoseob              1
YEZI                     1
YooA                     1
YOOK SUNGJAE             1
Yuna                     1
ZENE THE ZILLA           1
Zoorumpug                1</code></pre>
</div>
</div>
</section>
<section id="discussion" class="level1">
<h1>Discussion</h1>
<p>How do I interpret the density and centrality?</p>
<p>Transitivity doesn’t work</p>
<p>Artist based analysis (# of degree)</p>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="DACSS/Social_Networks_Spring_2023" data-repo-id="R_kgDOI9d_OA" data-category="Announcements" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb90" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Assignment Kpop Collaboration Network"</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Erika Nagai"</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "03/28/2023"</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="co"># editor: visual</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a><span class="fu"># Overview</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>The phenomenon of K-pop has recently emerged as a prominent cultural force, gaining significant attention and popularity not only in South Korea and other Asian nations but globally as well, particularly among the younger generation. An interesting aspect of K-pop is that many K-pop artists collaborate with other artists, often those who are not based in South Korea. In this analysis, my objective is to delve into the dynamics of such collaborations within the K-pop industry and beyond, across various musical genres, and to investigate how these collaborative patterns have evolved over time. To achieve this goal, I aim to examine the social network of K-pop collaborations, with a view to gaining a better understanding of the underlying trends and structures shaping this phenomenon.</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a><span class="fu"># Collect the data</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a>I collected the data in a following way.</span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a>**collab_songs.csv:**</span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a>This is a list of collaboration songs collected by</span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>gathering the name of the top 50 Kpop artists in 2010, 2015, and 2020 by asking ChatGPT</span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>manually collecting their Spotify artist id</span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>collecting all the singles/albums data of the artists by using Spotify API and</span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>removing the songs that are NOT collaborative by filtering out those who have only one artist registered</span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a>**artist.csv:**</span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a>This is a list of artists performed the collaboration songs collected by</span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>extracting the unique artists from the collab_songs.csv</span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>collecting their information (genre and followers) using Spotify API</span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>**song_detail.csv:**</span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a>This is a list of songs with detail information prepared by</span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>extracting the detailed song information (release year, available market etc) by using Spotify API based on the track id from kpop_collab.csv</span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a><span class="co"># install libraries</span></span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-57"><a href="#cb90-57" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-58"><a href="#cb90-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in data</span></span>
<span id="cb90-59"><a href="#cb90-59" aria-hidden="true" tabindex="-1"></a><span class="fu">getwd</span>()</span>
<span id="cb90-60"><a href="#cb90-60" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/collab_songs.csv"</span>)</span>
<span id="cb90-61"><a href="#cb90-61" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/artists.csv"</span>)</span>
<span id="cb90-62"><a href="#cb90-62" aria-hidden="true" tabindex="-1"></a>song_detail <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"_data/Kpop_collaboration_Erika_Nagai/song_detail.csv"</span>)</span>
<span id="cb90-63"><a href="#cb90-63" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-64"><a href="#cb90-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-65"><a href="#cb90-65" aria-hidden="true" tabindex="-1"></a><span class="fu"># Describe &amp; Clean the data</span></span>
<span id="cb90-66"><a href="#cb90-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-67"><a href="#cb90-67" aria-hidden="true" tabindex="-1"></a><span class="fu">### `collab_songs` dataframe</span></span>
<span id="cb90-68"><a href="#cb90-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-69"><a href="#cb90-69" aria-hidden="true" tabindex="-1"></a><span class="in">`collab_songs`</span> is a dataframe where each observation is a collaboration songs by Kpop top artists and other artists.</span>
<span id="cb90-70"><a href="#cb90-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-71"><a href="#cb90-71" aria-hidden="true" tabindex="-1"></a>It has 452 rows (collaboration songs) and 26 columns.</span>
<span id="cb90-72"><a href="#cb90-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-75"><a href="#cb90-75" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-76"><a href="#cb90-76" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb90-77"><a href="#cb90-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-78"><a href="#cb90-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Skim the data</span></span>
<span id="cb90-79"><a href="#cb90-79" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(collab_songs)</span>
<span id="cb90-80"><a href="#cb90-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-81"><a href="#cb90-81" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(collab_songs)</span>
<span id="cb90-82"><a href="#cb90-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-83"><a href="#cb90-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-84"><a href="#cb90-84" aria-hidden="true" tabindex="-1"></a>I removed unnecessary columns. Now <span class="in">`collab_songs`</span> has following columns.</span>
<span id="cb90-85"><a href="#cb90-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-86"><a href="#cb90-86" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>song_name</span>
<span id="cb90-87"><a href="#cb90-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-88"><a href="#cb90-88" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>song_id: this can be used as a key when joining with <span class="in">`song_detail`</span> dataframe</span>
<span id="cb90-89"><a href="#cb90-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-90"><a href="#cb90-90" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>kpop_artist_name: This is a name of the Kpop top artists.</span>
<span id="cb90-91"><a href="#cb90-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-92"><a href="#cb90-92" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>artist_id: This is a Spotify Artist ID of the Kpop top artists. This can be used as a key when joining with <span class="in">`artist`</span> dataframe</span>
<span id="cb90-93"><a href="#cb90-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-94"><a href="#cb90-94" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>artist<span class="sc">\_\[</span>i<span class="sc">\]</span>: This is a name of the artists that collaborated with Kpop top artists or the Kpop top artists themselves, which means that it might duplicate with <span class="in">`kpop_artist_name`</span> (i is a number from 1 to 7)</span>
<span id="cb90-95"><a href="#cb90-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-96"><a href="#cb90-96" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>artist_id<span class="sc">\_\[</span>i<span class="sc">\]</span>: This is a Spotify Artist ID of the artists that collaborated with Kpop top artists or the Kpop top artists themselves, which means that it might duplicate with <span class="in">`artist_id`</span> (i is a number from 1 to 7). This can be used as a key when joining with <span class="in">`artists`</span> dataframe.</span>
<span id="cb90-97"><a href="#cb90-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-100"><a href="#cb90-100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-101"><a href="#cb90-101" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-102"><a href="#cb90-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"song_name"</span>, <span class="st">"song_id"</span>, <span class="st">"kpop_artist_name"</span>, <span class="st">"artist_id"</span>, <span class="st">"artist_1"</span>, <span class="st">"artist_id_1"</span>, <span class="st">"artist_2"</span>, <span class="st">"artist_id_2"</span>, <span class="st">"artist_3"</span>, <span class="st">"artist_id_3"</span>, <span class="st">"artist_4"</span>, <span class="st">"artist_id_4"</span>, <span class="st">"artist_5"</span>, <span class="st">"artist_id_5"</span>, <span class="st">"artist_6"</span>, <span class="st">"artist_id_6"</span>, <span class="st">"artist_7"</span>, <span class="st">"artist_id_7"</span>))</span>
<span id="cb90-103"><a href="#cb90-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-104"><a href="#cb90-104" aria-hidden="true" tabindex="-1"></a>collab_songs</span>
<span id="cb90-105"><a href="#cb90-105" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-106"><a href="#cb90-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-109"><a href="#cb90-109" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-110"><a href="#cb90-110" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-111"><a href="#cb90-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(song_name, kpop_artist_name, artist_1, artist_2) <span class="sc">%&gt;%</span></span>
<span id="cb90-112"><a href="#cb90-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"song_name"</span>, <span class="st">"kpop_artist_name"</span>, <span class="st">"artist_1"</span>, <span class="st">"artist_2"</span>))</span>
<span id="cb90-113"><a href="#cb90-113" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-114"><a href="#cb90-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-117"><a href="#cb90-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-118"><a href="#cb90-118" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(artist_1 <span class="sc">==</span> <span class="st">"Blackpink"</span>)</span>
<span id="cb90-119"><a href="#cb90-119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-120"><a href="#cb90-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-121"><a href="#cb90-121" aria-hidden="true" tabindex="-1"></a><span class="fu">### Artists (artist.csv)</span></span>
<span id="cb90-122"><a href="#cb90-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-123"><a href="#cb90-123" aria-hidden="true" tabindex="-1"></a><span class="in">`artists`</span> is a dataframe where each row represents an artist (individual/group) that have participated in Kpop collaboration songs by top Kpop artists.</span>
<span id="cb90-124"><a href="#cb90-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-125"><a href="#cb90-125" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>id: This is a Spotify Artist ID of the artist. It can be used as a key when joining with <span class="in">`collab_songs`</span> dataframe</span>
<span id="cb90-126"><a href="#cb90-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-127"><a href="#cb90-127" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>name: the name of the artist</span>
<span id="cb90-128"><a href="#cb90-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-129"><a href="#cb90-129" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>top_kpop: if the artist is one of the top 50 Kpop artists in 2010, 2015, or 2020, the value is 1. Otherwise, the value is 0.</span>
<span id="cb90-130"><a href="#cb90-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-131"><a href="#cb90-131" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>genre: the genre of the artist (can be multiple)</span>
<span id="cb90-132"><a href="#cb90-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-133"><a href="#cb90-133" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>followers: the number of the followers on Spotify</span>
<span id="cb90-134"><a href="#cb90-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-137"><a href="#cb90-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-138"><a href="#cb90-138" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(artists)</span>
<span id="cb90-139"><a href="#cb90-139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-140"><a href="#cb90-140" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(artists)</span>
<span id="cb90-141"><a href="#cb90-141" aria-hidden="true" tabindex="-1"></a>artists</span>
<span id="cb90-142"><a href="#cb90-142" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-143"><a href="#cb90-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-144"><a href="#cb90-144" aria-hidden="true" tabindex="-1"></a><span class="in">`name`</span> has 513 unique values and <span class="in">`id`</span> has 517 unique values, which may mean that there are <span class="in">`name`</span> values that are duplicated or missing id information.</span>
<span id="cb90-145"><a href="#cb90-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-148"><a href="#cb90-148" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-149"><a href="#cb90-149" aria-hidden="true" tabindex="-1"></a>artists <span class="sc">%&gt;%</span> </span>
<span id="cb90-150"><a href="#cb90-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(name)</span>
<span id="cb90-151"><a href="#cb90-151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-152"><a href="#cb90-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-155"><a href="#cb90-155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-156"><a href="#cb90-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean data by removing unnecessary columns</span></span>
<span id="cb90-157"><a href="#cb90-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-158"><a href="#cb90-158" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb90-159"><a href="#cb90-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">'...1'</span>))</span>
<span id="cb90-160"><a href="#cb90-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-161"><a href="#cb90-161" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span></span>
<span id="cb90-162"><a href="#cb90-162" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">'Unnamed: 0'</span>))</span>
<span id="cb90-163"><a href="#cb90-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-164"><a href="#cb90-164" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(id, <span class="at">.before =</span> name)</span>
<span id="cb90-165"><a href="#cb90-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-166"><a href="#cb90-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-169"><a href="#cb90-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-170"><a href="#cb90-170" aria-hidden="true" tabindex="-1"></a><span class="co"># This is the list of the genre names that appear in artist dataframe</span></span>
<span id="cb90-171"><a href="#cb90-171" aria-hidden="true" tabindex="-1"></a>artists <span class="sc">%&gt;%</span></span>
<span id="cb90-172"><a href="#cb90-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genre) <span class="sc">%&gt;%</span></span>
<span id="cb90-173"><a href="#cb90-173" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_rows</span>(genre, <span class="at">sep =</span> <span class="st">",</span><span class="sc">\\</span><span class="st">s*"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-174"><a href="#cb90-174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genre =</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[|'|</span><span class="sc">\\</span><span class="st">]"</span>, <span class="st">""</span>, genre)) <span class="sc">%&gt;%</span></span>
<span id="cb90-175"><a href="#cb90-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(genre, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb90-176"><a href="#cb90-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-177"><a href="#cb90-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-178"><a href="#cb90-178" aria-hidden="true" tabindex="-1"></a>I want to add two new columns to the <span class="in">`artist`</span> dataFrame. The first column would indicate the broader genre of each artist, such as K-pop, Latin-pop, or J-pop (Japanese pop), which would help us to better understand the overall geographical market. The second column would simply indicate whether each artist is K-pop or not.</span>
<span id="cb90-179"><a href="#cb90-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-180"><a href="#cb90-180" aria-hidden="true" tabindex="-1"></a>First, I decided to classify the overall genre by detecting the follwoing word in the <span class="in">`genre`</span> column</span>
<span id="cb90-181"><a href="#cb90-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-182"><a href="#cb90-182" aria-hidden="true" tabindex="-1"></a>**K-pop:** "korean", "k-" (for example k-pop, k-rap). Also any artists whose column "to-=p-kpop" is 1 are considered as K-pop genre.</span>
<span id="cb90-183"><a href="#cb90-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-184"><a href="#cb90-184" aria-hidden="true" tabindex="-1"></a>**Latin-pop:** "latin", "latino", "chicano"</span>
<span id="cb90-185"><a href="#cb90-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-186"><a href="#cb90-186" aria-hidden="true" tabindex="-1"></a>**J-pop (Japanese pop):** "japanese", "j-" (for example j-pop, j-rap, j-core), "visual-kei"</span>
<span id="cb90-187"><a href="#cb90-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-188"><a href="#cb90-188" aria-hidden="true" tabindex="-1"></a>**C-pop (Chinese pop):** "chinese"</span>
<span id="cb90-189"><a href="#cb90-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-190"><a href="#cb90-190" aria-hidden="true" tabindex="-1"></a>**UK-pop:** "uk" (uk-pop, uk-hiphop)</span>
<span id="cb90-191"><a href="#cb90-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-192"><a href="#cb90-192" aria-hidden="true" tabindex="-1"></a>**US or Others:** artists whose genre doesn't include the above words but has any word</span>
<span id="cb90-193"><a href="#cb90-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-194"><a href="#cb90-194" aria-hidden="true" tabindex="-1"></a>**Unknown:** artists whose genre is empty</span>
<span id="cb90-195"><a href="#cb90-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-198"><a href="#cb90-198" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-199"><a href="#cb90-199" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb90-200"><a href="#cb90-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">region_category=</span><span class="fu">case_when</span>(</span>
<span id="cb90-201"><a href="#cb90-201" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"k-pop|korean|k-rap"</span>, genre) <span class="sc">|</span> top_kpop <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">"K-pop"</span>,</span>
<span id="cb90-202"><a href="#cb90-202" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"latin|latino|chicano|bachata"</span>, genre) <span class="sc">~</span> <span class="st">"Latin-pop"</span>,</span>
<span id="cb90-203"><a href="#cb90-203" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"j-pop|j-rap|japanese|j-core|josei|visual-kei"</span>, genre) <span class="sc">~</span> <span class="st">"J-pop"</span>,</span>
<span id="cb90-204"><a href="#cb90-204" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"chinese"</span>, genre) <span class="sc">~</span> <span class="st">"C-pop"</span>,</span>
<span id="cb90-205"><a href="#cb90-205" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"uk-|uk "</span>, genre) <span class="sc">~</span> <span class="st">"UK-pop"</span>,</span>
<span id="cb90-206"><a href="#cb90-206" aria-hidden="true" tabindex="-1"></a>    <span class="fu">grepl</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">[</span><span class="sc">\\</span><span class="st">]"</span>, genre) <span class="sc">~</span> <span class="st">"Unknown"</span>,</span>
<span id="cb90-207"><a href="#cb90-207" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb90-208"><a href="#cb90-208" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb90-209"><a href="#cb90-209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">kpop =</span> <span class="fu">case_when</span>(</span>
<span id="cb90-210"><a href="#cb90-210" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"K-pop"</span> <span class="sc">~</span> <span class="st">"yes"</span>,</span>
<span id="cb90-211"><a href="#cb90-211" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"no"</span></span>
<span id="cb90-212"><a href="#cb90-212" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb90-213"><a href="#cb90-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-214"><a href="#cb90-214" aria-hidden="true" tabindex="-1"></a>artists</span>
<span id="cb90-215"><a href="#cb90-215" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-216"><a href="#cb90-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-219"><a href="#cb90-219" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-220"><a href="#cb90-220" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> </span>
<span id="cb90-221"><a href="#cb90-221" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb90-222"><a href="#cb90-222" aria-hidden="true" tabindex="-1"></a>    <span class="at">show_kpop_top =</span> <span class="fu">case_when</span>(</span>
<span id="cb90-223"><a href="#cb90-223" aria-hidden="true" tabindex="-1"></a>      top_kpop <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> name,</span>
<span id="cb90-224"><a href="#cb90-224" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">""</span></span>
<span id="cb90-225"><a href="#cb90-225" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb90-226"><a href="#cb90-226" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-227"><a href="#cb90-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-228"><a href="#cb90-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-229"><a href="#cb90-229" aria-hidden="true" tabindex="-1"></a><span class="fu">### song_detail (song_detail.csv)</span></span>
<span id="cb90-230"><a href="#cb90-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-231"><a href="#cb90-231" aria-hidden="true" tabindex="-1"></a><span class="in">`song_detail`</span> is a dataframe where each observation is a collaboration song by K-pop top artists and other artists. While <span class="in">`collab_songs`</span> provides the information of the artists that worked on the song, this dataframe provides more detailed information about the songs themselves such as duration, track number, release date etc...</span>
<span id="cb90-232"><a href="#cb90-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-233"><a href="#cb90-233" aria-hidden="true" tabindex="-1"></a>It has 452 rows (collaboration songs), which is the same as the number of the rows of <span class="in">`collab_songs`</span>, and 20 columns.</span>
<span id="cb90-234"><a href="#cb90-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-237"><a href="#cb90-237" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-238"><a href="#cb90-238" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(song_detail)</span>
<span id="cb90-239"><a href="#cb90-239" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(song_detail)</span>
<span id="cb90-240"><a href="#cb90-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-241"><a href="#cb90-241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-242"><a href="#cb90-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-243"><a href="#cb90-243" aria-hidden="true" tabindex="-1"></a>The columns are as follows</span>
<span id="cb90-244"><a href="#cb90-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-245"><a href="#cb90-245" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>name: name of the songs</span>
<span id="cb90-246"><a href="#cb90-246" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>popularity: the popularity index from Spotify</span>
<span id="cb90-247"><a href="#cb90-247" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>release_year</span>
<span id="cb90-248"><a href="#cb90-248" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>album: this is information about the album the song is from in Json format.</span>
<span id="cb90-249"><a href="#cb90-249" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>artists: this is information about the artists in Json format</span>
<span id="cb90-250"><a href="#cb90-250" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>available_markets</span>
<span id="cb90-251"><a href="#cb90-251" aria-hidden="true" tabindex="-1"></a><span class="ss">7.  </span>explicit</span>
<span id="cb90-252"><a href="#cb90-252" aria-hidden="true" tabindex="-1"></a><span class="ss">8.  </span>id: This is a Spotify song id. Can be used as a key when joining with <span class="in">`collab_songs`</span></span>
<span id="cb90-253"><a href="#cb90-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-256"><a href="#cb90-256" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-257"><a href="#cb90-257" aria-hidden="true" tabindex="-1"></a><span class="co"># I will remove unnecessary columns</span></span>
<span id="cb90-258"><a href="#cb90-258" aria-hidden="true" tabindex="-1"></a>song_detail <span class="ot">&lt;-</span> song_detail <span class="sc">%&gt;%</span> </span>
<span id="cb90-259"><a href="#cb90-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(name,popularity, release_date, release_year, <span class="at">.before=</span><span class="st">"album"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-260"><a href="#cb90-260" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"...1"</span>, <span class="st">"disc_number"</span>, <span class="st">"duration_ms"</span>, <span class="st">"external_ids"</span>, <span class="st">"external_urls"</span>,<span class="st">"href"</span>, <span class="st">"is_local"</span>, <span class="st">"preview_url"</span>, <span class="st">"track_number"</span>, <span class="st">"type"</span>, <span class="st">"uri"</span>, <span class="st">"release_date"</span>))</span>
<span id="cb90-261"><a href="#cb90-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-262"><a href="#cb90-262" aria-hidden="true" tabindex="-1"></a>song_detail<span class="sc">$</span>release_year <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(song_detail<span class="sc">$</span>release_year)</span>
<span id="cb90-263"><a href="#cb90-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-264"><a href="#cb90-264" aria-hidden="true" tabindex="-1"></a>song_detail <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(release_year)</span>
<span id="cb90-265"><a href="#cb90-265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-266"><a href="#cb90-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-267"><a href="#cb90-267" aria-hidden="true" tabindex="-1"></a><span class="fu">## Extra data cleaning</span></span>
<span id="cb90-268"><a href="#cb90-268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-269"><a href="#cb90-269" aria-hidden="true" tabindex="-1"></a><span class="in">`collab_songs`</span> include unofficial songs by unofficial accounts. For example, there are a few songs by After School and Blackpink. However, if you look at the Spotify album page, this "Blackpink" is different from "BLACK PINK". There seem to be several cases that the artist ID is not the correct one. So I removed the songs that are not by "official" (=with more monthly followers) accounts.</span>
<span id="cb90-270"><a href="#cb90-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-273"><a href="#cb90-273" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-274"><a href="#cb90-274" aria-hidden="true" tabindex="-1"></a><span class="co">#For example, there are a few songs by After School and Blackpink. However, if you look at the Spotify album page, this "Blackpink" is different from "BLACK PINK". </span></span>
<span id="cb90-275"><a href="#cb90-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-276"><a href="#cb90-276" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(artist_1 <span class="sc">==</span> <span class="st">"Blackpink"</span>)</span>
<span id="cb90-277"><a href="#cb90-277" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-278"><a href="#cb90-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-281"><a href="#cb90-281" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-282"><a href="#cb90-282" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_1 whose id doesn't exist</span></span>
<span id="cb90-283"><a href="#cb90-283" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span></span>
<span id="cb90-284"><a href="#cb90-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_1"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-285"><a href="#cb90-285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-286"><a href="#cb90-286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-287"><a href="#cb90-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-288"><a href="#cb90-288" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_2 whose id doesn't exist </span></span>
<span id="cb90-289"><a href="#cb90-289" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-290"><a href="#cb90-290" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_2"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-291"><a href="#cb90-291" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_2)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-292"><a href="#cb90-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-293"><a href="#cb90-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-294"><a href="#cb90-294" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_3 whose id doesn't exist </span></span>
<span id="cb90-295"><a href="#cb90-295" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-296"><a href="#cb90-296" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_3"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-297"><a href="#cb90-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_3)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-298"><a href="#cb90-298" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-299"><a href="#cb90-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-300"><a href="#cb90-300" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_4 whose id doesn't exist </span></span>
<span id="cb90-301"><a href="#cb90-301" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-302"><a href="#cb90-302" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_4"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-303"><a href="#cb90-303" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_4)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-304"><a href="#cb90-304" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-305"><a href="#cb90-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-306"><a href="#cb90-306" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_5 whose id doesn't exist </span></span>
<span id="cb90-307"><a href="#cb90-307" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-308"><a href="#cb90-308" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_5"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-309"><a href="#cb90-309" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_5)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-310"><a href="#cb90-310" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-311"><a href="#cb90-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-312"><a href="#cb90-312" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_6 whose id doesn't exist </span></span>
<span id="cb90-313"><a href="#cb90-313" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-314"><a href="#cb90-314" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_6"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-315"><a href="#cb90-315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_6)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-316"><a href="#cb90-316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-317"><a href="#cb90-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-318"><a href="#cb90-318" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the songs by artist_7 whose id doesn't exist </span></span>
<span id="cb90-319"><a href="#cb90-319" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-320"><a href="#cb90-320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(artists, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"artist_id_7"</span> <span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-321"><a href="#cb90-321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(artist_7)<span class="sc">|!</span><span class="fu">is.na</span>(name)) <span class="sc">%&gt;%</span></span>
<span id="cb90-322"><a href="#cb90-322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="st">"name"</span>, <span class="st">"top_kpop"</span>, <span class="st">"genre"</span>, <span class="st">"followers"</span>, <span class="st">"name_lower"</span>, <span class="st">"region_category"</span>, <span class="st">"kpop"</span>))</span>
<span id="cb90-323"><a href="#cb90-323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-324"><a href="#cb90-324" aria-hidden="true" tabindex="-1"></a>collab_songs</span>
<span id="cb90-325"><a href="#cb90-325" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-326"><a href="#cb90-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-327"><a href="#cb90-327" aria-hidden="true" tabindex="-1"></a>Now <span class="in">`collab_songs`</span> has 441 songs (reduced from 452)</span>
<span id="cb90-328"><a href="#cb90-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-329"><a href="#cb90-329" aria-hidden="true" tabindex="-1"></a><span class="fu"># Exploring the data</span></span>
<span id="cb90-330"><a href="#cb90-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-331"><a href="#cb90-331" aria-hidden="true" tabindex="-1"></a><span class="fu">### How many K-pop collaboration songs are released by year?</span></span>
<span id="cb90-332"><a href="#cb90-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-335"><a href="#cb90-335" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-336"><a href="#cb90-336" aria-hidden="true" tabindex="-1"></a>collab_songs <span class="sc">%&gt;%</span> </span>
<span id="cb90-337"><a href="#cb90-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(song_detail, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"song_id"</span><span class="ot">=</span> <span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-338"><a href="#cb90-338" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>release_year)) <span class="sc">+</span> </span>
<span id="cb90-339"><a href="#cb90-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb90-340"><a href="#cb90-340" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">seq</span>(<span class="dv">2010</span>, <span class="dv">2022</span>, <span class="dv">5</span>)) <span class="sc">+</span> </span>
<span id="cb90-341"><a href="#cb90-341" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">2009</span>, <span class="dv">2023</span>) <span class="sc">+</span></span>
<span id="cb90-342"><a href="#cb90-342" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"The number of K-pop collaboration songs"</span>, <span class="at">subtitle =</span> <span class="st">"The number of collaboration songs by K-pop top artists is increasing over the time"</span>, <span class="at">caption =</span> <span class="st">"Note that this data is based on the information of only top 50 k-pop artists during 2010-2020"</span>)</span>
<span id="cb90-343"><a href="#cb90-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-344"><a href="#cb90-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-345"><a href="#cb90-345" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-346"><a href="#cb90-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-347"><a href="#cb90-347" aria-hidden="true" tabindex="-1"></a><span class="fu">### Is the popularity of K-pop collaboration songs increasing?</span></span>
<span id="cb90-348"><a href="#cb90-348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-351"><a href="#cb90-351" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-352"><a href="#cb90-352" aria-hidden="true" tabindex="-1"></a>song_detail <span class="sc">%&gt;%</span></span>
<span id="cb90-353"><a href="#cb90-353" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(release_year) <span class="sc">%&gt;%</span></span>
<span id="cb90-354"><a href="#cb90-354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_popularity =</span> <span class="fu">mean</span>(popularity)) <span class="sc">%&gt;%</span></span>
<span id="cb90-355"><a href="#cb90-355" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>release_year, <span class="at">y=</span>mean_popularity)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb90-356"><a href="#cb90-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Popularity of K-pop collaboration songs"</span>, <span class="at">subtitle =</span> <span class="st">"The popularity of K-pop collaboration songs is increasing dramatically."</span>)</span>
<span id="cb90-357"><a href="#cb90-357" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-358"><a href="#cb90-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-359"><a href="#cb90-359" aria-hidden="true" tabindex="-1"></a><span class="fu"># Convert this data to network data</span></span>
<span id="cb90-360"><a href="#cb90-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-361"><a href="#cb90-361" aria-hidden="true" tabindex="-1"></a>To analyze this data in a perspective of social network, I need to convert this data into an edgelist where from_nodes are K-pop top artists, to_nodes are artists who collaborated with them, and edges are songs.</span>
<span id="cb90-362"><a href="#cb90-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-365"><a href="#cb90-365" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-366"><a href="#cb90-366" aria-hidden="true" tabindex="-1"></a><span class="co"># pivot_longer</span></span>
<span id="cb90-367"><a href="#cb90-367" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> collab_songs <span class="sc">%&gt;%</span></span>
<span id="cb90-368"><a href="#cb90-368" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb90-369"><a href="#cb90-369" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"artist_id_"</span>),</span>
<span id="cb90-370"><a href="#cb90-370" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"variable"</span>,</span>
<span id="cb90-371"><a href="#cb90-371" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"to_artist_id"</span></span>
<span id="cb90-372"><a href="#cb90-372" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">%&gt;%</span> </span>
<span id="cb90-373"><a href="#cb90-373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(to_artist_id)) <span class="sc">%&gt;%</span> <span class="co"># Remove the rows where the to_artist_id is blank </span></span>
<span id="cb90-374"><a href="#cb90-374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(artist_id <span class="sc">!=</span> to_artist_id) <span class="sc">%&gt;%</span>  <span class="co"># Remove the rows where from_artist and to_artist are the same </span></span>
<span id="cb90-375"><a href="#cb90-375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"artist_id"</span>, <span class="st">"to_artist_id"</span>, <span class="st">"song_id"</span>, <span class="st">"song_name"</span>))</span>
<span id="cb90-376"><a href="#cb90-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-377"><a href="#cb90-377" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(edgelist) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"From"</span>, <span class="st">"To"</span>, <span class="st">"song_id"</span>, <span class="st">"song_name"</span>)</span>
<span id="cb90-378"><a href="#cb90-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-379"><a href="#cb90-379" aria-hidden="true" tabindex="-1"></a>edgelist</span>
<span id="cb90-380"><a href="#cb90-380" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-381"><a href="#cb90-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-382"><a href="#cb90-382" aria-hidden="true" tabindex="-1"></a><span class="fu">## Edgelist (without spliting)</span></span>
<span id="cb90-383"><a href="#cb90-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-386"><a href="#cb90-386" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-387"><a href="#cb90-387" aria-hidden="true" tabindex="-1"></a>collab.net <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">graph_from_data_frame</span>(edgelist, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists)</span>
<span id="cb90-388"><a href="#cb90-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-389"><a href="#cb90-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-390"><a href="#cb90-390" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-391"><a href="#cb90-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-394"><a href="#cb90-394" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-395"><a href="#cb90-395" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting the attributes</span></span>
<span id="cb90-396"><a href="#cb90-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-397"><a href="#cb90-397" aria-hidden="true" tabindex="-1"></a><span class="co"># # For visualization</span></span>
<span id="cb90-398"><a href="#cb90-398" aria-hidden="true" tabindex="-1"></a><span class="co"># ## color</span></span>
<span id="cb90-399"><a href="#cb90-399" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> artists <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(</span>
<span id="cb90-400"><a href="#cb90-400" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_region_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb90-401"><a href="#cb90-401" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"K-pop"</span> <span class="sc">~</span> <span class="st">"#FFFFE1"</span>,</span>
<span id="cb90-402"><a href="#cb90-402" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"Latin-pop"</span> <span class="sc">~</span> <span class="st">"#99860C"</span>,</span>
<span id="cb90-403"><a href="#cb90-403" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"J-pop"</span> <span class="sc">~</span> <span class="st">"#FDCCCC"</span>,</span>
<span id="cb90-404"><a href="#cb90-404" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"C-pop"</span> <span class="sc">~</span> <span class="st">"#920002"</span>,</span>
<span id="cb90-405"><a href="#cb90-405" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"UK-pop"</span> <span class="sc">~</span> <span class="st">"#ABD7E6"</span>,</span>
<span id="cb90-406"><a href="#cb90-406" aria-hidden="true" tabindex="-1"></a>    region_category <span class="sc">==</span> <span class="st">"Other"</span> <span class="sc">~</span> <span class="st">"#010087"</span>,</span>
<span id="cb90-407"><a href="#cb90-407" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"darkgrey"</span> ),</span>
<span id="cb90-408"><a href="#cb90-408" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_kpop =</span> <span class="fu">case_when</span>(</span>
<span id="cb90-409"><a href="#cb90-409" aria-hidden="true" tabindex="-1"></a>    kpop <span class="sc">==</span> <span class="st">"yes"</span> <span class="sc">~</span> <span class="st">"#FFFFE1"</span>,</span>
<span id="cb90-410"><a href="#cb90-410" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"#010087"</span></span>
<span id="cb90-411"><a href="#cb90-411" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-412"><a href="#cb90-412" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-413"><a href="#cb90-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-414"><a href="#cb90-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-415"><a href="#cb90-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-416"><a href="#cb90-416" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(collab.net)<span class="sc">$</span>color <span class="ot">&lt;-</span> artists<span class="sc">$</span>color_region_category</span>
<span id="cb90-417"><a href="#cb90-417" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb90-418"><a href="#cb90-418" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb90-419"><a href="#cb90-419" aria-hidden="true" tabindex="-1"></a><span class="co"># V(collab.net)$name_kpop_top &lt;- artists$show_name_kpop_top</span></span>
<span id="cb90-420"><a href="#cb90-420" aria-hidden="true" tabindex="-1"></a><span class="co"># V(collab.net)$name_followers &lt;- artists$show_name_followers</span></span>
<span id="cb90-421"><a href="#cb90-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-422"><a href="#cb90-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-423"><a href="#cb90-423" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-424"><a href="#cb90-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-427"><a href="#cb90-427" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-428"><a href="#cb90-428" aria-hidden="true" tabindex="-1"></a><span class="co"># Check attributes</span></span>
<span id="cb90-429"><a href="#cb90-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-430"><a href="#cb90-430" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(collab.net) <span class="co">#509 nodes and 591 edges</span></span>
<span id="cb90-431"><a href="#cb90-431" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">vertex_attr_names</span>(collab.net)</span>
<span id="cb90-432"><a href="#cb90-432" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">edge_attr_names</span>(collab.net)</span>
<span id="cb90-433"><a href="#cb90-433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-434"><a href="#cb90-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-435"><a href="#cb90-435" aria-hidden="true" tabindex="-1"></a><span class="fu"># Overview of K-pop collaboration network</span></span>
<span id="cb90-436"><a href="#cb90-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-439"><a href="#cb90-439" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-440"><a href="#cb90-440" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(collab.net, </span>
<span id="cb90-441"><a href="#cb90-441" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>show_kpop_top,</span>
<span id="cb90-442"><a href="#cb90-442" aria-hidden="true" tabindex="-1"></a>     <span class="at">arrow.mode=</span><span class="st">"-"</span>,</span>
<span id="cb90-443"><a href="#cb90-443" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">log</span>(<span class="fu">V</span>(collab.net)<span class="sc">$</span>followers) <span class="sc">*</span> <span class="fl">0.5</span>,</span>
<span id="cb90-444"><a href="#cb90-444" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">8</span>,</span>
<span id="cb90-445"><a href="#cb90-445" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb90-446"><a href="#cb90-446" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb90-447"><a href="#cb90-447" aria-hidden="true" tabindex="-1"></a>     <span class="at">frame.width =</span> <span class="dv">0</span>,</span>
<span id="cb90-448"><a href="#cb90-448" aria-hidden="true" tabindex="-1"></a>     <span class="at">color =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>color_region_category,</span>
<span id="cb90-449"><a href="#cb90-449" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"K pop collaboration network for the last 18 years"</span>,</span>
<span id="cb90-450"><a href="#cb90-450" aria-hidden="true" tabindex="-1"></a>     <span class="at">ref =</span> <span class="st">"The size of the circles means the popularity"</span></span>
<span id="cb90-451"><a href="#cb90-451" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb90-452"><a href="#cb90-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-453"><a href="#cb90-453" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(</span>
<span id="cb90-454"><a href="#cb90-454" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bottomright"</span>,</span>
<span id="cb90-455"><a href="#cb90-455" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"K-pop"</span>, <span class="st">"Latin-pop"</span>, <span class="st">"J-pop"</span>, <span class="st">"C-pop"</span>, <span class="st">"UK-pop"</span>, <span class="st">"US or Other"</span>, <span class="st">"Unknown"</span>),</span>
<span id="cb90-456"><a href="#cb90-456" aria-hidden="true" tabindex="-1"></a>  <span class="at">pt.bg  =</span> <span class="fu">c</span>(<span class="st">"#FFFFE1"</span>, <span class="st">"#99860C"</span>, <span class="st">"#FDCCCC"</span>, <span class="st">"#920002"</span>, <span class="st">"#ABD7E6"</span>, <span class="st">"#010087"</span>, <span class="st">"darkgrey"</span>),</span>
<span id="cb90-457"><a href="#cb90-457" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch    =</span> <span class="dv">21</span>,</span>
<span id="cb90-458"><a href="#cb90-458" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex    =</span> <span class="dv">1</span>,</span>
<span id="cb90-459"><a href="#cb90-459" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty    =</span> <span class="st">"n"</span>,</span>
<span id="cb90-460"><a href="#cb90-460" aria-hidden="true" tabindex="-1"></a>  <span class="at">title  =</span> <span class="st">"Genre"</span></span>
<span id="cb90-461"><a href="#cb90-461" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-462"><a href="#cb90-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-463"><a href="#cb90-463" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-464"><a href="#cb90-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-465"><a href="#cb90-465" aria-hidden="true" tabindex="-1"></a><span class="fu"># Overview: How the collaboration patterns have changed over time?</span></span>
<span id="cb90-466"><a href="#cb90-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-467"><a href="#cb90-467" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Between 2006 and 2010, the number of collaboration songs among K-pop artists was limited, with few international collaborations with artists outside of South Korea. Additionally, the network was sparse and disconnected.</span>
<span id="cb90-468"><a href="#cb90-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-469"><a href="#cb90-469" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>From 2011 to 2015, the number of collaboration songs slightly increased, with more international collaborations and a more connected network.</span>
<span id="cb90-470"><a href="#cb90-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-471"><a href="#cb90-471" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Between 2016 and 2020, K-pop experienced significant growth in terms of the number and types of collaborations. Notably, BTS, G(I)DLE, and Blackpink have a large number of international collaboration songs.</span>
<span id="cb90-472"><a href="#cb90-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-473"><a href="#cb90-473" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>In 2021, the number of collaboration songs is not as large as that of 2016-2020 due to the shorter time span, but the proportion of international collaborations appears to be higher.</span>
<span id="cb90-474"><a href="#cb90-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-477"><a href="#cb90-477" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-478"><a href="#cb90-478" aria-hidden="true" tabindex="-1"></a>edgelist <span class="ot">&lt;-</span> edgelist <span class="sc">%&gt;%</span> </span>
<span id="cb90-479"><a href="#cb90-479" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(song_detail, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"song_id"</span><span class="ot">=</span><span class="st">"id"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb90-480"><a href="#cb90-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb90-481"><a href="#cb90-481" aria-hidden="true" tabindex="-1"></a>    <span class="at">period =</span> <span class="fu">case_when</span>(</span>
<span id="cb90-482"><a href="#cb90-482" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&lt;=</span> <span class="dv">2010</span> <span class="sc">~</span> <span class="st">"2005-2010"</span>,</span>
<span id="cb90-483"><a href="#cb90-483" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&gt;</span> <span class="dv">2010</span> <span class="sc">&amp;</span> release_year <span class="sc">&lt;=</span> <span class="dv">2015</span> <span class="sc">~</span> <span class="st">"2011-2015"</span>,</span>
<span id="cb90-484"><a href="#cb90-484" aria-hidden="true" tabindex="-1"></a>      release_year <span class="sc">&gt;</span> <span class="dv">2015</span> <span class="sc">&amp;</span> release_year <span class="sc">&lt;=</span> <span class="dv">2020</span> <span class="sc">~</span> <span class="st">"2016-2020"</span>,</span>
<span id="cb90-485"><a href="#cb90-485" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"2021-"</span></span>
<span id="cb90-486"><a href="#cb90-486" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb90-487"><a href="#cb90-487" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb90-488"><a href="#cb90-488" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">"From"</span>, <span class="st">"To"</span>, <span class="st">"song_id"</span>, <span class="st">"release_year"</span>, <span class="st">"period"</span>, <span class="st">"name"</span>, <span class="st">"popularity"</span>))</span>
<span id="cb90-489"><a href="#cb90-489" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-490"><a href="#cb90-490" aria-hidden="true" tabindex="-1"></a><span class="co">#E(collab.net)$period &lt;- edgelist$period</span></span>
<span id="cb90-491"><a href="#cb90-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-492"><a href="#cb90-492" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-493"><a href="#cb90-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-496"><a href="#cb90-496" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-497"><a href="#cb90-497" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the edgelist dataframe into 4 groups based on "period"</span></span>
<span id="cb90-498"><a href="#cb90-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-499"><a href="#cb90-499" aria-hidden="true" tabindex="-1"></a>edgelist_list <span class="ot">&lt;-</span> <span class="fu">split</span>(edgelist, edgelist<span class="sc">$</span>period)</span>
<span id="cb90-500"><a href="#cb90-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-501"><a href="#cb90-501" aria-hidden="true" tabindex="-1"></a><span class="co"># convert each element of the list into a separate dataframe</span></span>
<span id="cb90-502"><a href="#cb90-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-503"><a href="#cb90-503" aria-hidden="true" tabindex="-1"></a>graphs <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb90-504"><a href="#cb90-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-505"><a href="#cb90-505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-506"><a href="#cb90-506" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(edgelist_list)) {</span>
<span id="cb90-507"><a href="#cb90-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"edgelist_"</span>, <span class="fu">names</span>(edgelist_list)[i]), edgelist_list[[i]])</span>
<span id="cb90-508"><a href="#cb90-508" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-509"><a href="#cb90-509" aria-hidden="true" tabindex="-1"></a>  unique_vertices <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(edgelist_list[[i]]<span class="sc">$</span>From, edgelist_list[[i]]<span class="sc">$</span>To))</span>
<span id="cb90-510"><a href="#cb90-510" aria-hidden="true" tabindex="-1"></a>  artists_period <span class="ot">&lt;-</span> artists[artists<span class="sc">$</span>id <span class="sc">%in%</span> unique_vertices, ]</span>
<span id="cb90-511"><a href="#cb90-511" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-512"><a href="#cb90-512" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the graph from the filtered edgelist and vertices</span></span>
<span id="cb90-513"><a href="#cb90-513" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(edgelist_list[[i]], <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists_period)</span>
<span id="cb90-514"><a href="#cb90-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-515"><a href="#cb90-515" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Append the graph to the list of graphs</span></span>
<span id="cb90-516"><a href="#cb90-516" aria-hidden="true" tabindex="-1"></a>  graphs[[i]] <span class="ot">&lt;-</span> graph</span>
<span id="cb90-517"><a href="#cb90-517" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb90-518"><a href="#cb90-518" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-519"><a href="#cb90-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-520"><a href="#cb90-520" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-521"><a href="#cb90-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-524"><a href="#cb90-524" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-525"><a href="#cb90-525" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigining visualization attributes</span></span>
<span id="cb90-526"><a href="#cb90-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-527"><a href="#cb90-527" aria-hidden="true" tabindex="-1"></a>periods <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2006-2010"</span>, <span class="st">"2011-2015"</span>, <span class="st">"2016-2020"</span>, <span class="st">"2021-"</span>)</span>
<span id="cb90-528"><a href="#cb90-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-529"><a href="#cb90-529" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(graphs)) {</span>
<span id="cb90-530"><a href="#cb90-530" aria-hidden="true" tabindex="-1"></a>  <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color <span class="ot">&lt;-</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color_region_category</span>
<span id="cb90-531"><a href="#cb90-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(graphs[[i]], </span>
<span id="cb90-532"><a href="#cb90-532" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label =</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>show_kpop_top,</span>
<span id="cb90-533"><a href="#cb90-533" aria-hidden="true" tabindex="-1"></a>     <span class="at">arrow.mode=</span><span class="st">"-"</span>,</span>
<span id="cb90-534"><a href="#cb90-534" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.size =</span> <span class="fu">log</span>(<span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>followers) <span class="sc">*</span> <span class="fl">0.7</span>,</span>
<span id="cb90-535"><a href="#cb90-535" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.cex =</span> .<span class="dv">8</span>,</span>
<span id="cb90-536"><a href="#cb90-536" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.color =</span> <span class="st">"black"</span>,</span>
<span id="cb90-537"><a href="#cb90-537" aria-hidden="true" tabindex="-1"></a>     <span class="at">vertex.label.dist =</span> <span class="dv">0</span>,</span>
<span id="cb90-538"><a href="#cb90-538" aria-hidden="true" tabindex="-1"></a>     <span class="at">frame.width =</span> <span class="dv">0</span>,</span>
<span id="cb90-539"><a href="#cb90-539" aria-hidden="true" tabindex="-1"></a>     <span class="at">color =</span> <span class="fu">V</span>(graphs[[i]])<span class="sc">$</span>color_region_category,</span>
<span id="cb90-540"><a href="#cb90-540" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">"Collaboration by K-pop top artists"</span>, periods[[i]])</span>
<span id="cb90-541"><a href="#cb90-541" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb90-542"><a href="#cb90-542" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-543"><a href="#cb90-543" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(</span>
<span id="cb90-544"><a href="#cb90-544" aria-hidden="true" tabindex="-1"></a>  <span class="st">"bottomright"</span>,</span>
<span id="cb90-545"><a href="#cb90-545" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">"K-pop"</span>, <span class="st">"Latin-pop"</span>, <span class="st">"J-pop"</span>, <span class="st">"C-pop"</span>, <span class="st">"UK-pop"</span>, <span class="st">"US or Other"</span>, <span class="st">"Unknown"</span>),</span>
<span id="cb90-546"><a href="#cb90-546" aria-hidden="true" tabindex="-1"></a>  <span class="at">pt.bg  =</span> <span class="fu">c</span>(<span class="st">"#FFFFE1"</span>, <span class="st">"#99860C"</span>, <span class="st">"#FDCCCC"</span>, <span class="st">"#920002"</span>, <span class="st">"#ABD7E6"</span>, <span class="st">"#010087"</span>, <span class="st">"darkgrey"</span>),</span>
<span id="cb90-547"><a href="#cb90-547" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch    =</span> <span class="dv">21</span>,</span>
<span id="cb90-548"><a href="#cb90-548" aria-hidden="true" tabindex="-1"></a>  <span class="at">cex    =</span> <span class="dv">1</span>,</span>
<span id="cb90-549"><a href="#cb90-549" aria-hidden="true" tabindex="-1"></a>  <span class="at">bty    =</span> <span class="st">"n"</span>,</span>
<span id="cb90-550"><a href="#cb90-550" aria-hidden="true" tabindex="-1"></a>  <span class="at">title  =</span> <span class="st">"Genre"</span></span>
<span id="cb90-551"><a href="#cb90-551" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-552"><a href="#cb90-552" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-553"><a href="#cb90-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-554"><a href="#cb90-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-555"><a href="#cb90-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-556"><a href="#cb90-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-557"><a href="#cb90-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-558"><a href="#cb90-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-559"><a href="#cb90-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-560"><a href="#cb90-560" aria-hidden="true" tabindex="-1"></a><span class="fu"># Closer look: How does the network change every year?</span></span>
<span id="cb90-561"><a href="#cb90-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-564"><a href="#cb90-564" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-565"><a href="#cb90-565" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a graph for each year</span></span>
<span id="cb90-566"><a href="#cb90-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-567"><a href="#cb90-567" aria-hidden="true" tabindex="-1"></a>graph_from_data_frame_with_all_vertices <span class="ot">&lt;-</span> <span class="cf">function</span>(df, vertices) {</span>
<span id="cb90-568"><a href="#cb90-568" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create a data frame with all possible edges between vertices</span></span>
<span id="cb90-569"><a href="#cb90-569" aria-hidden="true" tabindex="-1"></a>  unique_vertices <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">c</span>(df<span class="sc">$</span>From, df<span class="sc">$</span>To))</span>
<span id="cb90-570"><a href="#cb90-570" aria-hidden="true" tabindex="-1"></a>  artists_period <span class="ot">&lt;-</span> artists[artists<span class="sc">$</span>id <span class="sc">%in%</span> unique_vertices, ]</span>
<span id="cb90-571"><a href="#cb90-571" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create the graph with all vertices and existing edges</span></span>
<span id="cb90-572"><a href="#cb90-572" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> <span class="fu">graph_from_data_frame</span>(df, <span class="at">directed =</span> <span class="cn">FALSE</span>, <span class="at">vertices =</span> artists_period)</span>
<span id="cb90-573"><a href="#cb90-573" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(graph)</span>
<span id="cb90-574"><a href="#cb90-574" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-575"><a href="#cb90-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-576"><a href="#cb90-576" aria-hidden="true" tabindex="-1"></a>graphs_year <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>, <span class="cf">function</span>(x) <span class="fu">graph_from_data_frame_with_all_vertices</span>(<span class="at">df =</span> edgelist[edgelist<span class="sc">$</span>release_year <span class="sc">==</span> x, ], <span class="at">vertices =</span> artists))</span>
<span id="cb90-577"><a href="#cb90-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-578"><a href="#cb90-578" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-579"><a href="#cb90-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-582"><a href="#cb90-582" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-583"><a href="#cb90-583" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a dataframe of graph statistics</span></span>
<span id="cb90-584"><a href="#cb90-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-585"><a href="#cb90-585" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the data frame</span></span>
<span id="cb90-586"><a href="#cb90-586" aria-hidden="true" tabindex="-1"></a>graph_stats <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">release_year =</span> <span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>, </span>
<span id="cb90-587"><a href="#cb90-587" aria-hidden="true" tabindex="-1"></a>                           <span class="at">num_nodes =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb90-588"><a href="#cb90-588" aria-hidden="true" tabindex="-1"></a>                           <span class="at">num_edges =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb90-589"><a href="#cb90-589" aria-hidden="true" tabindex="-1"></a>                           <span class="at">centralization =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb90-590"><a href="#cb90-590" aria-hidden="true" tabindex="-1"></a>                           <span class="at">density =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>)), </span>
<span id="cb90-591"><a href="#cb90-591" aria-hidden="true" tabindex="-1"></a>                           <span class="at">transitivity =</span> <span class="fu">numeric</span>(<span class="fu">length</span>(<span class="dv">2006</span><span class="sc">:</span><span class="dv">2023</span>))</span>
<span id="cb90-592"><a href="#cb90-592" aria-hidden="true" tabindex="-1"></a>                           </span>
<span id="cb90-593"><a href="#cb90-593" aria-hidden="true" tabindex="-1"></a>                           )</span>
<span id="cb90-594"><a href="#cb90-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-595"><a href="#cb90-595" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each year and calculate the desired graph statistics</span></span>
<span id="cb90-596"><a href="#cb90-596" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(graphs_year)) {</span>
<span id="cb90-597"><a href="#cb90-597" aria-hidden="true" tabindex="-1"></a>  graph <span class="ot">&lt;-</span> graphs_year[[i]]</span>
<span id="cb90-598"><a href="#cb90-598" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb90-599"><a href="#cb90-599" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fill in the corresponding row of the data frame with the calculated statistics</span></span>
<span id="cb90-600"><a href="#cb90-600" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"num_nodes"</span>] <span class="ot">&lt;-</span> <span class="fu">vcount</span>(graph)</span>
<span id="cb90-601"><a href="#cb90-601" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"num_edges"</span>] <span class="ot">&lt;-</span> <span class="fu">ecount</span>(graph)</span>
<span id="cb90-602"><a href="#cb90-602" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"centralization"</span>] <span class="ot">&lt;-</span> <span class="fu">centr_degree</span>(graph)<span class="sc">$</span>centralization</span>
<span id="cb90-603"><a href="#cb90-603" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"density"</span>] <span class="ot">&lt;-</span> <span class="fu">graph.density</span>(graph)</span>
<span id="cb90-604"><a href="#cb90-604" aria-hidden="true" tabindex="-1"></a>  graph_stats[i, <span class="st">"transitivity"</span>] <span class="ot">&lt;-</span> <span class="fu">transitivity</span>(graph)</span>
<span id="cb90-605"><a href="#cb90-605" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-606"><a href="#cb90-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-607"><a href="#cb90-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-608"><a href="#cb90-608" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting data frame</span></span>
<span id="cb90-609"><a href="#cb90-609" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(graph_stats)</span>
<span id="cb90-610"><a href="#cb90-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-611"><a href="#cb90-611" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-612"><a href="#cb90-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-613"><a href="#cb90-613" aria-hidden="true" tabindex="-1"></a><span class="fu">## Number of nodes and edges</span></span>
<span id="cb90-614"><a href="#cb90-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-617"><a href="#cb90-617" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-618"><a href="#cb90-618" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb90-619"><a href="#cb90-619" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb90-620"><a href="#cb90-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> num_nodes), <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill=</span><span class="st">"lightgrey"</span>) <span class="sc">+</span></span>
<span id="cb90-621"><a href="#cb90-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> num_edges, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb90-622"><a href="#cb90-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Number"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"The number of nodes (grey) and edges (black line)"</span>) <span class="sc">+</span></span>
<span id="cb90-623"><a href="#cb90-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb90-624"><a href="#cb90-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-625"><a href="#cb90-625" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-626"><a href="#cb90-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-629"><a href="#cb90-629" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-630"><a href="#cb90-630" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb90-631"><a href="#cb90-631" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb90-632"><a href="#cb90-632" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_bar(aes(y = density, stat = "identity", fill="lightgrey")) +</span></span>
<span id="cb90-633"><a href="#cb90-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> centralization, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb90-634"><a href="#cb90-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Centralization"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"Change in Centralization of K-pop collaboration network"</span>) <span class="sc">+</span></span>
<span id="cb90-635"><a href="#cb90-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb90-636"><a href="#cb90-636" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-637"><a href="#cb90-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-640"><a href="#cb90-640" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-641"><a href="#cb90-641" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot with a bar chart and a line chart</span></span>
<span id="cb90-642"><a href="#cb90-642" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(graph_stats, <span class="fu">aes</span>(<span class="at">x =</span> release_year)) <span class="sc">+</span></span>
<span id="cb90-643"><a href="#cb90-643" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_bar(aes(y = density, stat = "identity", fill="lightgrey")) +</span></span>
<span id="cb90-644"><a href="#cb90-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> density, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb90-645"><a href="#cb90-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Density"</span>, <span class="at">x =</span> <span class="st">"year"</span>, <span class="at">title =</span> <span class="st">"Change in density of Kpop collaboration network"</span>) <span class="sc">+</span></span>
<span id="cb90-646"><a href="#cb90-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span>
<span id="cb90-647"><a href="#cb90-647" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-648"><a href="#cb90-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-649"><a href="#cb90-649" aria-hidden="true" tabindex="-1"></a><span class="fu"># Artist-based analysis: Who is the center of K-pop network?</span></span>
<span id="cb90-650"><a href="#cb90-650" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-653"><a href="#cb90-653" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-654"><a href="#cb90-654" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">vertex_attr_names</span>(collab.net)</span>
<span id="cb90-655"><a href="#cb90-655" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-658"><a href="#cb90-658" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-659"><a href="#cb90-659" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a node stat dataframe</span></span>
<span id="cb90-660"><a href="#cb90-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-661"><a href="#cb90-661" aria-hidden="true" tabindex="-1"></a>nodes_stat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">genre =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>genre,</span>
<span id="cb90-662"><a href="#cb90-662" aria-hidden="true" tabindex="-1"></a>                         <span class="at">followers =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>followers,</span>
<span id="cb90-663"><a href="#cb90-663" aria-hidden="true" tabindex="-1"></a>                         <span class="at">region_category =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>region_category,</span>
<span id="cb90-664"><a href="#cb90-664" aria-hidden="true" tabindex="-1"></a>                         <span class="at">kpop =</span> <span class="fu">V</span>(collab.net)<span class="sc">$</span>kpop,</span>
<span id="cb90-665"><a href="#cb90-665" aria-hidden="true" tabindex="-1"></a>                         <span class="at">degree =</span> <span class="fu">degree</span>(collab.net)</span>
<span id="cb90-666"><a href="#cb90-666" aria-hidden="true" tabindex="-1"></a>                           )</span>
<span id="cb90-667"><a href="#cb90-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-668"><a href="#cb90-668" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-669"><a href="#cb90-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-670"><a href="#cb90-670" aria-hidden="true" tabindex="-1"></a>Here are the artists that have had most degree (≒ collaboration songs).</span>
<span id="cb90-673"><a href="#cb90-673" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb90-674"><a href="#cb90-674" aria-hidden="true" tabindex="-1"></a>nodes_stat <span class="sc">%&gt;%</span></span>
<span id="cb90-675"><a href="#cb90-675" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(kpop <span class="sc">==</span> <span class="st">"yes"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb90-676"><a href="#cb90-676" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(degree)) <span class="sc">%&gt;%</span></span>
<span id="cb90-677"><a href="#cb90-677" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(degree)</span>
<span id="cb90-678"><a href="#cb90-678" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb90-679"><a href="#cb90-679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-680"><a href="#cb90-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-681"><a href="#cb90-681" aria-hidden="true" tabindex="-1"></a><span class="fu"># Discussion</span></span>
<span id="cb90-682"><a href="#cb90-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-683"><a href="#cb90-683" aria-hidden="true" tabindex="-1"></a>How do I interpret the density and centrality?</span>
<span id="cb90-684"><a href="#cb90-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-685"><a href="#cb90-685" aria-hidden="true" tabindex="-1"></a>Transitivity doesn't work</span>
<span id="cb90-686"><a href="#cb90-686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-687"><a href="#cb90-687" aria-hidden="true" tabindex="-1"></a>Artist based analysis (# of degree)</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>